{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u8ba1\u7b97\u5b9e\u9a8c\u73af\u5883\u4f7f\u7528\u8bf4\u660e \u672c\u670d\u52a1\u5668\uff0810.40.13.202\uff09\u662f\u7edf\u8ba1\u4e0e\u6570\u636e\u79d1\u5b66\u5b66\u9662\u7684\u201c\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\u201d\u548c\u201c\u6570\u636e\u5e93\u8bfe\u7a0b\u201d\u7684\u4e0a\u673a\u5b9e\u9a8c\u7528\u670d\u52a1\u5668\uff0c\u4f7f\u7528\u524d\u8bf7\u9605\u8bfb\u6b64\u8bf4\u660e\u3002 \u6ce8\u610f\u4e8b\u9879 \u867d\u7136\u670d\u52a1\u5668\u786c\u4ef6\u914d\u7f6e\u5f88\u597d\uff0c\u4f46\u8003\u8651\u5230\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\u8bfe\u7a0b\u9009\u8bfe\u4eba\u6570\u975e\u5e38\u591a\uff0c\u670d\u52a1\u5668\u5728\u9ad8\u5cf0\u671f\u7684\u8d1f\u8f7d\u4f1a\u975e\u5e38\u5927\uff0c\u56e0\u6b64\u8bf7\u52a1\u5fc5: \u6240\u6709spark\u4f5c\u4e1a\u8bf7\u8fde\u63a5\u5230\u672c\u5730\u5df2\u6709\u7684master(spark://10.40.13.202:7077)\uff0c\u4e0d\u8981\u65b0\u5efalocal\u96c6\u7fa4 \u5728\u4f7f\u7528spark-shell\u540e \u53ca\u65f6 Ctrl+D \u9000\u51fa \u5728\u4f7f\u7528pyspark\u540e\u53ca\u65f6 \u8f93\u5165 exit() \u9000\u51fa \u5728\u4f7f\u7528notebook\u7ed3\u675f\u540e\uff0c\u53ca\u65f6 \u5728jupyterlab\u4e2d\u7ed3\u675fkernel \u907f\u514d\u957f\u671f\u5b58\u50a8\u7279\u522b\u5927\u7684\u6587\u4ef6\uff08GB\u7ea7\uff09 \u907f\u514d\u8fd0\u884c\u5185\u5b58\u8d1f\u8f7d\u7279\u522b\u5927\u7684\u7a0b\u5e8f\uff0810GB\u4ee5\u4e0a\uff09 \u5982\u4e0d\u9075\u5b88\u4e0a\u8ff0\u539f\u5219\uff0c\u7cfb\u7edf/\u7ba1\u7406\u5458\u53ef\u80fd\u4f1a\u7ec8\u6b62\u4f60\u7684\u4f5c\u4e1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff0c\u82e5\u957f\u65f6\u95f4\u4e25\u91cd\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\uff0c\u5219\u53ef\u80fd\u4f1a\u6682\u65f6\u7981\u7528\u4f60\u7684jupyterhub\u548c\u7cfb\u7edf\u7528\u6237\u8bbf\u95ee\u6743\u9650\u3002 \u8bfe\u7a0b\u7ed3\u675f\u4e00\u4e2a\u6708\u540e\u6211\u4eec\u5c06\u5220\u9664\u5b66\u751f\u8d26\u53f7\uff0c\u5c4a\u65f6\u4e2a\u4eba\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u4f1a\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u53ca\u65f6\u5907\u4efd\u4e2a\u4eba\u6587\u4ef6\u3002 \u76ee\u5f55 \u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97 JupyterHub\u4f7f\u7528\u8bf4\u660e Anaconda\u4f7f\u7528\u8bf4\u660e PySpark\u4f7f\u7528\u8bf4\u660e - \u600e\u6837\u5728JupyterHub\u4e2d\u4f7f\u7528PySpark Scala\u4f7f\u7528\u8bf4\u660e - \u5982\u4f55\u542f\u52a8Scala\u7684Spark\u73af\u5883 \u6570\u636e\u5e93 MySQL\u5b66\u751f\u4f7f\u7528\u8bf4\u660e \u7ba1\u7406\u624b\u518c\uff08\u5b66\u751f\u7528\u6237\u8bf7\u5ffd\u7565\uff09 Spark&Hadoop JupyterHub Rstudio MySQL SSH\u548cLinux\u670d\u52a1\u5668\u4f7f\u7528\u8bf4\u660e \u6587\u4ef6\u8def\u5f84\u8bb0\u5f55 \u5f52\u6863 \u4e00\u4e9b\u53c2\u8003\u8d44\u6599 \u6797\u5b50\u96e8 - \u5b50\u96e8\u5927\u6570\u636e\u4e4bSpark\u5165\u95e8\u6559\u7a0b\uff08Scala\u7248\uff09 http://dblab.xmu.edu.cn/blog/spark/ \u6797\u5b50\u96e8 - \u5b50\u96e8\u5927\u6570\u636e\u4e4bSpark\u5165\u95e8\u6559\u7a0b(Python\u7248) http://dblab.xmu.edu.cn/blog/1709-2/ Spark\u5b98\u65b9\u6587\u6863 https://spark.apache.org/docs/3.3.0/ \u591a\u770b\u5b98\u65b9\u6587\u6863\uff0c\u6bd4\u7f51\u4e0a\u7684\u535a\u5ba2\u66f4\u6743\u5a01\u548c\u8be6\u7ec6","title":"\u6982\u8ff0"},{"location":"#_1","text":"\u672c\u670d\u52a1\u5668\uff0810.40.13.202\uff09\u662f\u7edf\u8ba1\u4e0e\u6570\u636e\u79d1\u5b66\u5b66\u9662\u7684\u201c\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\u201d\u548c\u201c\u6570\u636e\u5e93\u8bfe\u7a0b\u201d\u7684\u4e0a\u673a\u5b9e\u9a8c\u7528\u670d\u52a1\u5668\uff0c\u4f7f\u7528\u524d\u8bf7\u9605\u8bfb\u6b64\u8bf4\u660e\u3002","title":"\u8ba1\u7b97\u5b9e\u9a8c\u73af\u5883\u4f7f\u7528\u8bf4\u660e"},{"location":"#_2","text":"\u867d\u7136\u670d\u52a1\u5668\u786c\u4ef6\u914d\u7f6e\u5f88\u597d\uff0c\u4f46\u8003\u8651\u5230\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\u8bfe\u7a0b\u9009\u8bfe\u4eba\u6570\u975e\u5e38\u591a\uff0c\u670d\u52a1\u5668\u5728\u9ad8\u5cf0\u671f\u7684\u8d1f\u8f7d\u4f1a\u975e\u5e38\u5927\uff0c\u56e0\u6b64\u8bf7\u52a1\u5fc5: \u6240\u6709spark\u4f5c\u4e1a\u8bf7\u8fde\u63a5\u5230\u672c\u5730\u5df2\u6709\u7684master(spark://10.40.13.202:7077)\uff0c\u4e0d\u8981\u65b0\u5efalocal\u96c6\u7fa4 \u5728\u4f7f\u7528spark-shell\u540e \u53ca\u65f6 Ctrl+D \u9000\u51fa \u5728\u4f7f\u7528pyspark\u540e\u53ca\u65f6 \u8f93\u5165 exit() \u9000\u51fa \u5728\u4f7f\u7528notebook\u7ed3\u675f\u540e\uff0c\u53ca\u65f6 \u5728jupyterlab\u4e2d\u7ed3\u675fkernel \u907f\u514d\u957f\u671f\u5b58\u50a8\u7279\u522b\u5927\u7684\u6587\u4ef6\uff08GB\u7ea7\uff09 \u907f\u514d\u8fd0\u884c\u5185\u5b58\u8d1f\u8f7d\u7279\u522b\u5927\u7684\u7a0b\u5e8f\uff0810GB\u4ee5\u4e0a\uff09 \u5982\u4e0d\u9075\u5b88\u4e0a\u8ff0\u539f\u5219\uff0c\u7cfb\u7edf/\u7ba1\u7406\u5458\u53ef\u80fd\u4f1a\u7ec8\u6b62\u4f60\u7684\u4f5c\u4e1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff0c\u82e5\u957f\u65f6\u95f4\u4e25\u91cd\u5360\u7528\u7cfb\u7edf\u8d44\u6e90\uff0c\u5219\u53ef\u80fd\u4f1a\u6682\u65f6\u7981\u7528\u4f60\u7684jupyterhub\u548c\u7cfb\u7edf\u7528\u6237\u8bbf\u95ee\u6743\u9650\u3002 \u8bfe\u7a0b\u7ed3\u675f\u4e00\u4e2a\u6708\u540e\u6211\u4eec\u5c06\u5220\u9664\u5b66\u751f\u8d26\u53f7\uff0c\u5c4a\u65f6\u4e2a\u4eba\u76ee\u5f55\u4e0b\u7684\u6587\u4ef6\u4f1a\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u53ca\u65f6\u5907\u4efd\u4e2a\u4eba\u6587\u4ef6\u3002","title":"\u6ce8\u610f\u4e8b\u9879"},{"location":"#_3","text":"\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97 JupyterHub\u4f7f\u7528\u8bf4\u660e Anaconda\u4f7f\u7528\u8bf4\u660e PySpark\u4f7f\u7528\u8bf4\u660e - \u600e\u6837\u5728JupyterHub\u4e2d\u4f7f\u7528PySpark Scala\u4f7f\u7528\u8bf4\u660e - \u5982\u4f55\u542f\u52a8Scala\u7684Spark\u73af\u5883 \u6570\u636e\u5e93 MySQL\u5b66\u751f\u4f7f\u7528\u8bf4\u660e \u7ba1\u7406\u624b\u518c\uff08\u5b66\u751f\u7528\u6237\u8bf7\u5ffd\u7565\uff09 Spark&Hadoop JupyterHub Rstudio MySQL SSH\u548cLinux\u670d\u52a1\u5668\u4f7f\u7528\u8bf4\u660e \u6587\u4ef6\u8def\u5f84\u8bb0\u5f55 \u5f52\u6863","title":"\u76ee\u5f55"},{"location":"#_4","text":"\u6797\u5b50\u96e8 - \u5b50\u96e8\u5927\u6570\u636e\u4e4bSpark\u5165\u95e8\u6559\u7a0b\uff08Scala\u7248\uff09 http://dblab.xmu.edu.cn/blog/spark/ \u6797\u5b50\u96e8 - \u5b50\u96e8\u5927\u6570\u636e\u4e4bSpark\u5165\u95e8\u6559\u7a0b(Python\u7248) http://dblab.xmu.edu.cn/blog/1709-2/ Spark\u5b98\u65b9\u6587\u6863 https://spark.apache.org/docs/3.3.0/ \u591a\u770b\u5b98\u65b9\u6587\u6863\uff0c\u6bd4\u7f51\u4e0a\u7684\u535a\u5ba2\u66f4\u6743\u5a01\u548c\u8be6\u7ec6","title":"\u4e00\u4e9b\u53c2\u8003\u8d44\u6599"},{"location":"about/","text":"\u5173\u4e8e \u7edf\u8ba1\u4e0e\u6570\u636e\u79d1\u5b66\u5b66\u9662 \u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97/\u6570\u636e\u5e93\u8bfe\u7a0b\u4e0a\u7ea7\u73af\u5883 \u4f7f\u7528\u8bf4\u660e \u8054\u7cfb\u65b9\u5f0f \u6388\u8bfe\u6559\u5e08\uff1a\u9648\u5927\u5ddd dchen@nankai.edu.cn \u670d\u52a1\u5668\u7ba1\u7406\uff1a\u5f20\u5efa\u6d9b 022-23501103 zjt@nankai.edu.cn \u8303\u5b59\u697c230\u5ba4 \u73af\u5883\u914d\u7f6e\u548c\u6587\u6863\u7f16\u5199\uff1a\u5415\u4e4b\u8c6a zlyu@mail.nankai.edu.cn github.com/Alexhaoge \u672c\u6587\u6863 \u4f7f\u7528mkdocs\u7f16\u5199\uff0c\u6e90\u4ee3\u7801\u5728 https://github.com/Alexhaoge/STAT0024-Deploy-Manual \uff0c\u65b0\u4efb\u7ba1\u7406\u5458\u5982\u9700\u66f4\u65b0\u6587\u6863\u8bf7\u8054\u7cfb\u4ed3\u5e93\u6240\u6709\u8005\u6dfb\u52a0\u4fee\u6539\u6743\u9650\uff0cGithub\u4ed3\u5e93\u6709\u81ea\u52a8\u751f\u6210 Github Pages \u3002 \u6587\u6863\u5728\u670d\u52a1\u672c\u5730\u4e5f\u6709\u4f7f\u7528apache\u90e8\u7f72\uff0chtml\u5b58\u653e\u4f4d\u7f6e/var/www/html/ Lisence \u672c\u4f5c\u54c1\u91c7\u7528 \u77e5\u8bc6\u5171\u4eab\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528 4.0 \u56fd\u9645\u8bb8\u53ef\u534f\u8bae \u8fdb\u884c\u8bb8\u53ef\u3002","title":"\u5173\u4e8e"},{"location":"about/#_1","text":"\u7edf\u8ba1\u4e0e\u6570\u636e\u79d1\u5b66\u5b66\u9662 \u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97/\u6570\u636e\u5e93\u8bfe\u7a0b\u4e0a\u7ea7\u73af\u5883 \u4f7f\u7528\u8bf4\u660e","title":"\u5173\u4e8e"},{"location":"about/#_2","text":"\u6388\u8bfe\u6559\u5e08\uff1a\u9648\u5927\u5ddd dchen@nankai.edu.cn \u670d\u52a1\u5668\u7ba1\u7406\uff1a\u5f20\u5efa\u6d9b 022-23501103 zjt@nankai.edu.cn \u8303\u5b59\u697c230\u5ba4 \u73af\u5883\u914d\u7f6e\u548c\u6587\u6863\u7f16\u5199\uff1a\u5415\u4e4b\u8c6a zlyu@mail.nankai.edu.cn github.com/Alexhaoge","title":"\u8054\u7cfb\u65b9\u5f0f"},{"location":"about/#_3","text":"\u4f7f\u7528mkdocs\u7f16\u5199\uff0c\u6e90\u4ee3\u7801\u5728 https://github.com/Alexhaoge/STAT0024-Deploy-Manual \uff0c\u65b0\u4efb\u7ba1\u7406\u5458\u5982\u9700\u66f4\u65b0\u6587\u6863\u8bf7\u8054\u7cfb\u4ed3\u5e93\u6240\u6709\u8005\u6dfb\u52a0\u4fee\u6539\u6743\u9650\uff0cGithub\u4ed3\u5e93\u6709\u81ea\u52a8\u751f\u6210 Github Pages \u3002 \u6587\u6863\u5728\u670d\u52a1\u672c\u5730\u4e5f\u6709\u4f7f\u7528apache\u90e8\u7f72\uff0chtml\u5b58\u653e\u4f4d\u7f6e/var/www/html/","title":"\u672c\u6587\u6863"},{"location":"about/#lisence","text":"\u672c\u4f5c\u54c1\u91c7\u7528 \u77e5\u8bc6\u5171\u4eab\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528 4.0 \u56fd\u9645\u8bb8\u53ef\u534f\u8bae \u8fdb\u884c\u8bb8\u53ef\u3002","title":"Lisence"},{"location":"mysql/","text":"MySQL\u4f7f\u7528\u8bf4\u660e \u767b\u9646MySQL \u547d\u4ee4\u884c\u65b9\u5f0f mysql -h 10.40.13.202 -P 3306 -u \u7528\u6237\u540d -p # \u7136\u540e\u4f1a\u6709\u63d0\u793a\u8f93\u5165\u5bc6\u7801 # Enter password: \u8fd9\u91cc\u8f93\u5165\u5bc6\u7801\u4e0d\u4f1a\u663e\u793a\u4f46\u662f\u786e\u5b9e\u662f\u8f93\u8fdb\u53bb\u7684\uff0c\u6309\u56de\u8f66\u7ed3\u675f # \u7ecf\u8fc7\u4e00\u5806\u6b22\u8fce\u754c\u9762\u7684\u5e9f\u8bdd\u4e4b\u540e\u4f1a\u663e\u793a\u4e0b\u9762\u8fd9\u4e00\u884c\u5c31\u4ee3\u8868\u767b\u9646\u6210\u529f\u4e86 # mysql> MySQL Workbench \u6559\u7a0b \u9996\u5148\u6253\u5f00MySQL workbench \u5728\u9996\u9875\u70b9\u51fb MySQL Connections \u8fb9\u4e0a\u7684 + \u53f7 \u5728\u5f39\u51fa\u7684\u6846\u4e2d\u586b\u5165\u76f8\u5e94\u4fe1\u606f \u4ee5\u4e0a\u7684 default schema\u8868\u793a\uff0c\u5982\u679c\u60f3\u8981\u53ea\u9ed8\u8ba4\u8fde\u63a5\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\u636e\u5e93\uff0c\u5219\u586b\u4e0a\u6570\u636e\u5e93\u7684\u540d\u79f0\u3002\u7136\u540e\u70b9\u51fb\u6d4b\u8bd5\u8fde\u63a5\uff0c\u82e5\u663e\u793a \u5219\u8868\u793a\u6d4b\u8bd5\u8fde\u63a5\u6210\u529f\uff0c\u6ce8\u610f\u70b9\u51fbTest Connection \u65c1\u8fb9\u7684ok\u624d\u4f1a\u4fdd\u5b58\u8fde\u63a5 \u63a5\u4e0b\u6765\u56de\u5230MySQL Workbench \u7684\u9996\u9875\uff0c\u4f1a\u53d1\u73b0\u5df2\u7ecf\u6709\u4e86\u65b0\u7684\u8fde\u63a5 \u4fee\u6539\u5bc6\u7801 \u5b66\u751f\u7528\u6237\u5728\u521b\u5efa\u65f6\u7684\u9ed8\u8ba4\u5bc6\u7801\u53ef\u80fd\u662f\u4e00\u6837\u7684\u6216\u6bd4\u8f83\u7b80\u5355\uff0c\u5efa\u8bae\u5728\u9996\u6b21\u767b\u9646\u540e\u4fee\u6539\u5bc6\u7801\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5b9e\u73b0 SET PASSWORD=PASSWORD(\u2018new_password\u2019);","title":"MySQL\u5b66\u751f\u4f7f\u7528\u8bf4\u660e"},{"location":"mysql/#mysql","text":"","title":"MySQL\u4f7f\u7528\u8bf4\u660e"},{"location":"mysql/#mysql_1","text":"","title":"\u767b\u9646MySQL"},{"location":"mysql/#_1","text":"mysql -h 10.40.13.202 -P 3306 -u \u7528\u6237\u540d -p # \u7136\u540e\u4f1a\u6709\u63d0\u793a\u8f93\u5165\u5bc6\u7801 # Enter password: \u8fd9\u91cc\u8f93\u5165\u5bc6\u7801\u4e0d\u4f1a\u663e\u793a\u4f46\u662f\u786e\u5b9e\u662f\u8f93\u8fdb\u53bb\u7684\uff0c\u6309\u56de\u8f66\u7ed3\u675f # \u7ecf\u8fc7\u4e00\u5806\u6b22\u8fce\u754c\u9762\u7684\u5e9f\u8bdd\u4e4b\u540e\u4f1a\u663e\u793a\u4e0b\u9762\u8fd9\u4e00\u884c\u5c31\u4ee3\u8868\u767b\u9646\u6210\u529f\u4e86 # mysql>","title":"\u547d\u4ee4\u884c\u65b9\u5f0f"},{"location":"mysql/#mysql-workbench","text":"\u6559\u7a0b \u9996\u5148\u6253\u5f00MySQL workbench \u5728\u9996\u9875\u70b9\u51fb MySQL Connections \u8fb9\u4e0a\u7684 + \u53f7 \u5728\u5f39\u51fa\u7684\u6846\u4e2d\u586b\u5165\u76f8\u5e94\u4fe1\u606f \u4ee5\u4e0a\u7684 default schema\u8868\u793a\uff0c\u5982\u679c\u60f3\u8981\u53ea\u9ed8\u8ba4\u8fde\u63a5\u67d0\u4e00\u4e2a\u7279\u5b9a\u7684\u6570\u636e\u5e93\uff0c\u5219\u586b\u4e0a\u6570\u636e\u5e93\u7684\u540d\u79f0\u3002\u7136\u540e\u70b9\u51fb\u6d4b\u8bd5\u8fde\u63a5\uff0c\u82e5\u663e\u793a \u5219\u8868\u793a\u6d4b\u8bd5\u8fde\u63a5\u6210\u529f\uff0c\u6ce8\u610f\u70b9\u51fbTest Connection \u65c1\u8fb9\u7684ok\u624d\u4f1a\u4fdd\u5b58\u8fde\u63a5 \u63a5\u4e0b\u6765\u56de\u5230MySQL Workbench \u7684\u9996\u9875\uff0c\u4f1a\u53d1\u73b0\u5df2\u7ecf\u6709\u4e86\u65b0\u7684\u8fde\u63a5","title":"MySQL Workbench"},{"location":"mysql/#_2","text":"\u5b66\u751f\u7528\u6237\u5728\u521b\u5efa\u65f6\u7684\u9ed8\u8ba4\u5bc6\u7801\u53ef\u80fd\u662f\u4e00\u6837\u7684\u6216\u6bd4\u8f83\u7b80\u5355\uff0c\u5efa\u8bae\u5728\u9996\u6b21\u767b\u9646\u540e\u4fee\u6539\u5bc6\u7801\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5b9e\u73b0 SET PASSWORD=PASSWORD(\u2018new_password\u2019);","title":"\u4fee\u6539\u5bc6\u7801"},{"location":"admin/fs/","text":"\u6587\u4ef6\u8def\u5f84\u8bb0\u5f55 \u670d\u52a1\u5668\u6709\u4e09\u5757\u7269\u7406\u786c\u76d8\uff0c\u901a\u8fc7BIOS\u5c06\u4e24\u5757400G\u7684\u786c\u76d8\u7ec4\u6210\u4e86\u865a\u62df\u78c1\u76d8\u9635\u5217\u4f5c\u4e3a800G\u7684\u7cfb\u7edf\u76d8\uff0c\u6302\u8f7d\u70b9\u4e3a / \uff0c\u53e6\u4e00\u57571T\u7684\u4f5c\u4e3a\u6570\u636e\u76d8\uff0c\u6302\u8f7d\u70b9\u4e3a /data \uff0c\u5927\u89c4\u6a21\u6570\u636e\u8bf7\u5b58\u50a8\u4e0e1T\u7684\u786c\u76d8\u4e2d\uff0c\u7cfb\u7edf\u8f6f\u4ef6\u5b89\u88c5\u5728\u7cfb\u7edf\u76d8 \u4e3a\u51cf\u5c11\u7cfb\u7edf\u76d8\u5360\u7528\uff0c\u7ba1\u7406\u5458\u7528\u6237\u7684\u5bb6\u76ee\u5f55\u5728 /home \uff0c\u666e\u901a\u5b66\u751f\u7528\u6237\u5bb6\u76ee\u5f55\u5728 /data/home java\u548cscala\u7531apt\u81ea\u52a8\u5b89\u88c5\uff0c\u76ee\u5f55\u5206\u522b\u5728 /usr/lib/jvm/java-11-openjdk-amd64 \u548c /usr/share/scala-2.11 spark\u76ee\u5f55\u5728 /usr/local/spark-3.3.0-bin-hadoop3 Anaconda\u5728 /usr/local/anaconda3 \uff0c\u5e26\u6709jupyterhub\u548cpyspark\u7684conda\u73af\u5883\u5728 /usr/local/anaconda3/envs/jupyter","title":"\u6587\u4ef6\u8def\u5f84\u8bb0\u5f55"},{"location":"admin/fs/#_1","text":"\u670d\u52a1\u5668\u6709\u4e09\u5757\u7269\u7406\u786c\u76d8\uff0c\u901a\u8fc7BIOS\u5c06\u4e24\u5757400G\u7684\u786c\u76d8\u7ec4\u6210\u4e86\u865a\u62df\u78c1\u76d8\u9635\u5217\u4f5c\u4e3a800G\u7684\u7cfb\u7edf\u76d8\uff0c\u6302\u8f7d\u70b9\u4e3a / \uff0c\u53e6\u4e00\u57571T\u7684\u4f5c\u4e3a\u6570\u636e\u76d8\uff0c\u6302\u8f7d\u70b9\u4e3a /data \uff0c\u5927\u89c4\u6a21\u6570\u636e\u8bf7\u5b58\u50a8\u4e0e1T\u7684\u786c\u76d8\u4e2d\uff0c\u7cfb\u7edf\u8f6f\u4ef6\u5b89\u88c5\u5728\u7cfb\u7edf\u76d8 \u4e3a\u51cf\u5c11\u7cfb\u7edf\u76d8\u5360\u7528\uff0c\u7ba1\u7406\u5458\u7528\u6237\u7684\u5bb6\u76ee\u5f55\u5728 /home \uff0c\u666e\u901a\u5b66\u751f\u7528\u6237\u5bb6\u76ee\u5f55\u5728 /data/home java\u548cscala\u7531apt\u81ea\u52a8\u5b89\u88c5\uff0c\u76ee\u5f55\u5206\u522b\u5728 /usr/lib/jvm/java-11-openjdk-amd64 \u548c /usr/share/scala-2.11 spark\u76ee\u5f55\u5728 /usr/local/spark-3.3.0-bin-hadoop3 Anaconda\u5728 /usr/local/anaconda3 \uff0c\u5e26\u6709jupyterhub\u548cpyspark\u7684conda\u73af\u5883\u5728 /usr/local/anaconda3/envs/jupyter","title":"\u6587\u4ef6\u8def\u5f84\u8bb0\u5f55"},{"location":"admin/jupyter/","text":"\u7ba1\u7406JupyterHub \u524d\u53f0\u7ba1\u7406JupyterHub \u4ecejupyterlab\u754c\u9762\u7684\u83dc\u5355\u680f\u70b9\u51fbHub Control Panel\u6216\u800510.40.13.202:9500/hub/admin\u8bbf\u95ee\u7ba1\u7406\u9762\u7248 \u7ba1\u7406\u754c\u9762\u5982\u4e0b(\u53f3\u952e\u53ef\u4ee5\u5728\u65b0\u7684\u9875\u9762\u6253\u5f00\u56fe\u7247\uff0c\u67e5\u770b\u5927\u56fe) Authorize Users\uff1a\u6fc0\u6d3b\u3001\u53cd\u6fc0\u6d3b\u7528\u6237\u3002\u65b0\u6ce8\u518c\u7528\u6237\u9700\u8981\u7ba1\u7406\u5458\u6388\u6743\u6fc0\u6d3b\uff0c\u53cd\u6fc0\u6d3b\u540e\u7528\u6237\u65e0\u6cd5\u767b\u9646\uff0c\u4f46\u6570\u636e\u4ecd\u7136\u4fdd\u7559\u3002 Start/Stop Server\uff1a \u542f\u52a8\u5173\u95ed\u7528\u6237\u7684JupyterHub Access Server\uff1a\u8bbf\u95ee\u7528\u6237\u7684JupyterHub\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u534f\u52a9\u5b66\u751f\u8c03\u8bd5 change password\uff1a\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u8fd9\u5728\u5b66\u751f\u5fd8\u8bb0\u5bc6\u7801\u9700\u8981\u91cd\u7f6e\u65f6\u975e\u5e38\u6709\u7528\uff08\u4e5f\u53ef\u76f4\u63a5\u8bbf\u95ee10.40.13.202:9500/hub/change-password/\u7528\u6237\u540d\uff09 edit user\uff1a \u4fee\u6539\u7528\u6237\u540d\uff0c\u6dfb\u52a0\u7ba1\u7406\u6743\u9650 delete user\uff1a\u5220\u9664\u7528\u6237\uff0c\u8fde\u5e26\u4f1a\u5220\u9664\u7cfb\u7edf\u7528\u6237\u548c\u8be5\u7528\u6237\u6240\u6709\u6570\u636e\uff08\u53ef\u80fdhdfs\u6570\u636e\u8fd8\u4f1a\u4fdd\u7559\uff09 Add Users\uff1a\u56e0\u4e3ajupyterhub\u7684\u767b\u9646\u9a8c\u8bc1\u5668\u91cd\u65b0\u5f00\u53d1\uff0c\u8fd9\u4e2a\u6dfb\u52a0\u7528\u6237\u529f\u80fd\u76ee\u524d\u57fa\u672c\u4e0a\u4e0d\u8d77\u4f5c\u7528\uff0c\u4e0d\u5e94\u8be5\u4f7f\u7528\uff0c\u65b0\u589e\u7528\u6237\u5e94\u7531\u7528\u6237\u81ea\u884c\u6ce8\u518c\u540e\u7ba1\u7406\u5458\u5ba1\u6838\u901a\u8fc7\u4ea7\u751f\u3002 \u6388\u6743\u6fc0\u6d3b/\u53cd\u6fc0\u6d3b\u7528\u6237 \u7ba1\u7406\u754c\u9762\u70b9\u51fb\"Authorize Users\"\u6216\u8bbf\u95ee http://10.40.13.202/hub/authorize \u53ef\u4ee5\u6fc0\u6d3b\u65b0\u6ce8\u518c\u7528\u6237\uff0c\u6216\u8005\u53cd\u6fc0\u6d3b\u4e00\u4e2a\u7528\u6237\u4f7f\u5176\u65e0\u6cd5\u767b\u9646\uff0c\u754c\u9762\u4e2d\u7684discard\u7b49\u4ef7\u4e8e\u5220\u9664\u7528\u6237\uff0c\u8fde\u5e26\u4f1a\u5220\u9664\u7cfb\u7edf\u7528\u6237\u548c\u8be5\u7528\u6237\u6240\u6709\u6570\u636e\uff08\u53ef\u80fdhdfs\u6570\u636e\u8fd8\u4f1a\u4fdd\u7559\uff09 JupyterHub\u7684\u540e\u53f0\u914d\u7f6e jupyterhub\u9700\u8981\u4ee5root\u8eab\u4efd\u542f\u52a8\uff0c\u539f\u59cb\u547d\u4ee4\u5982\u4e0b conda activate jupyterhub jupyterhub -f /etc/jupyterhub/jupyterhub_config.py -f\u540e\u9762\u7684\u662f\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u5bf9\u9ed8\u8ba4\u914d\u7f6e\u505a\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u4e0a\u67e5\u770b\u5e76\u53c2\u8003https://jupyterhub.readthedocs.io/en/stable/reference/config-reference.html\u3002 \u53e6\u5916\u8fd0\u884c\u65f6\u7684\u6570\u636e\u4fdd\u5b58\u8fd8\u9700\u8981 \u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u5b58\u50a8\u5728/var/jupyterhub/jupyterhub.sqlite \u4e00\u4e2a\u4fdd\u5b58\u7528\u6237\u767b\u9646\u72b6\u6001\u7684cookie\uff0c\u5b58\u50a8\u5728/var/jupyterhub/jupyterhub_cookie_secret \u4e00\u4e2a\u8bb0\u5f55jupyterhub\u8fdb\u7a0b\u53f7\u7684pid\u6587\u4ef6\uff0c\u5b58\u50a8\u5728/var/jupyterhub/jupyterhub_proxy.pid \u8fd9\u4e9b\u5728\u914d\u7f6e\u6587\u4ef6/etc/jupyterhub/jupyterhub_config.py\u4e2d\u90fd\u6709\u4f53\u73b0\u3002 JupyterHub\u914d\u7f6e\u4e3a\u81ea\u542f\u52a8service \u4f46\u5b9e\u9645\u4e0a\u76ee\u524d\u4e0d\u662f\u8fd9\u6837\u542f\u52a8\u7684\uff0c\u6211\u4eec\u5c06jupyterhub\u6ce8\u518c\u4e3a\u4e00\u4e2a\u7cfb\u7edf\u7684\u670d\u52a1\uff08service\uff09\uff0c\u5e76\u7531systemctl\u81ea\u52a8\u542f\u52a8 \u6ce8\u518c\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u5b58\u50a8\u5728/etc/systemd/system/jupyterhub.service [Unit] Description=\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\u8bfe\u7a0bJupyterHub Documentation=https://jupyterhub.readthedocs.io/en/stable/index.html After=syslog.target network.target [Service] User=root Environment=\"PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/local/anaconda3/envs/jupyter/bin\" ExecStart=/usr/local/anaconda3/envs/jupyter/bin/jupyterhub -f /home/hadoop/jupyterhub_config.py Restart=on-failure [Install] WantedBy=multi-user.target \u7ba1\u7406\u547d\u4ee4\u4e3a\u4f7f\u7528sudo\u6216root\u8eab\u4efd\u7684systemctl\u547d\u4ee4 systemctl start/stop jupyterhub # \u542f\u52a8\u3001\u505c\u6b62 systemctl status jupyterhub # \u67e5\u770b\u72b6\u6001\u53ca\u6700\u8fd1\u7684\u65e5\u5fd7 systemctl restart jupyterhub # \u91cd\u542f systemctl enable/disable jupyterhub # \u5f00\u673a\u542f\u52a8/\u4e0d\u542f\u52a8jupyterhub \u4f7f\u7528native authenticator\u5e76\u81ea\u5b9a\u4e49\u4fee\u6539 \u5bf9\u4e8eJupyterHub\u7684\u7528\u6237\u9a8c\u8bc1\uff0c\u6211\u4eec\u4f7f\u7528 NativeAuthenticator \uff0c\u800c\u4e14\u4e3a\u4e86\u7ed1\u5b9a\u7cfb\u7edf\u7528\u6237\u7684\u6ce8\u518c\u548c\u5220\u9664\uff0c\u505a\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u91cd\u5199\u4e86\u8fd9\u4e2a\u6269\u5c55\uff0c\u6e90\u4ee3\u7801\u5728 github \u3002 \u56e0\u6b64\u5b89\u88c5\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7684\u7528\u6237\u8ba4\u8bc1\u6a21\u5757\u65f6\uff0c\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528pip\u4ecepypi\u4e0a\u4e0b\u8f7d\uff0c\u800c\u5e94\u8be5\u5148\u4ecegithub\u7684\u4ee3\u7801\u4ed3\u5e93\u514b\u9686\uff0c\u7136\u540e\u4f7f\u7528\u4ee3\u7801\u4e2d\u7684setup.py\uff0c\u5373setuptools\u672c\u5730\u5b89\u88c5 git clone https://github.com/Alexhaoge/nativeauthenticator.git cd nativeauthenticator conda activate jupyterhub python setup.py install \u76ee\u524d\u4ed3\u5e93\u5df2\u7ecf\u4e0b\u8f7d\u5230/home/hadoop/nativeauthenticator\uff0c\u66f4\u65b0\u7684\u8bddgit pull\u5373\u53ef \u6dfb\u52a0\u7ba1\u7406\u5458 \u7531\u4e8eJupyterHub\u81ea\u52a8\u521b\u5efa\u7684\u65b0\u7528\u6237\u7528\u6237\u540d\u662fst\u5f00\u5934\u7684\uff0c\u5bb6\u76ee\u5f55\u5728/data/home/stxxxxx\u4e0b\uff0c\u7ba1\u7406\u5458\u7528\u6237\u9700\u8981\u547d\u4ee4\u884c\u624b\u52a8\u521b\u5efa 1. \u521b\u5efaLinux\u7cfb\u7edf\u7528\u6237 useradd -m -s /bin/bash new_user \u4fee\u6539JupyterHub\u914d\u7f6e\u6587\u4ef6 /etc/jupyterhub/jupyterhub_config.py \uff0c\u53ef\u4ee5\u901a\u8fc7vim\u6253\u5f00 vim /etc/jupyterhub/jupyterhub_config.py \uff1b\u627e\u5230 c.Authenticator.admin_users \uff0c\u6dfb\u52a0\u65b0\u5efa\u7684\u7528\u6237\u540d\uff1b c.Authenticator.admin_users = {'chen', 'alice', 'bob', 'new_user'} \u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u5f88\u957f\uff0c\u5982\u679c\u627e\u4e0d\u5230\u9009\u9879\u53ef\u4ee5\u4f7f\u7528vim\u641c\u7d22\u529f\u80fd\uff0c\u5148\u6309 Esc \u8fdb\u5165vim\u547d\u4ee4\u6a21\u5f0f\u518d\u8f93\u5165 /admin_users \u56de\u8f66\u5373\u53ef\u627e\u5230\uff0c\u4e4b\u540e\u6309 i \u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff0c\u5b8c\u6210\u7f16\u8f91\u540e Esc \u8fdb\u5165\u547d\u4ee4\u6a21\u5f0f\uff0c\u8f93\u5165 :wq \u4fdd\u5b58\u9000\u51fa\u3002 3. \u91cd\u542fJupyterHub 4. \u5728JupyterHub\u524d\u53f0\u89c1\u9762\u5b8c\u6210\u6ce8\u518c\u6d41\u7a0b\uff0c\u7528\u6237\u540d\u5bc6\u7801\u4e0e\u521a\u521b\u5efa\u7684linux\u7528\u6237\u4e00\u81f4 5. \u4f7f\u7528\u65b0\u521b\u5efa\u7684\u7ba1\u7406\u5458\u8d26\u6237\u767b\u9646","title":"JupyterHub"},{"location":"admin/jupyter/#jupyterhub","text":"","title":"\u7ba1\u7406JupyterHub"},{"location":"admin/jupyter/#jupyterhub_1","text":"\u4ecejupyterlab\u754c\u9762\u7684\u83dc\u5355\u680f\u70b9\u51fbHub Control Panel\u6216\u800510.40.13.202:9500/hub/admin\u8bbf\u95ee\u7ba1\u7406\u9762\u7248 \u7ba1\u7406\u754c\u9762\u5982\u4e0b(\u53f3\u952e\u53ef\u4ee5\u5728\u65b0\u7684\u9875\u9762\u6253\u5f00\u56fe\u7247\uff0c\u67e5\u770b\u5927\u56fe) Authorize Users\uff1a\u6fc0\u6d3b\u3001\u53cd\u6fc0\u6d3b\u7528\u6237\u3002\u65b0\u6ce8\u518c\u7528\u6237\u9700\u8981\u7ba1\u7406\u5458\u6388\u6743\u6fc0\u6d3b\uff0c\u53cd\u6fc0\u6d3b\u540e\u7528\u6237\u65e0\u6cd5\u767b\u9646\uff0c\u4f46\u6570\u636e\u4ecd\u7136\u4fdd\u7559\u3002 Start/Stop Server\uff1a \u542f\u52a8\u5173\u95ed\u7528\u6237\u7684JupyterHub Access Server\uff1a\u8bbf\u95ee\u7528\u6237\u7684JupyterHub\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u534f\u52a9\u5b66\u751f\u8c03\u8bd5 change password\uff1a\u4fee\u6539\u7528\u6237\u5bc6\u7801\uff0c\u8fd9\u5728\u5b66\u751f\u5fd8\u8bb0\u5bc6\u7801\u9700\u8981\u91cd\u7f6e\u65f6\u975e\u5e38\u6709\u7528\uff08\u4e5f\u53ef\u76f4\u63a5\u8bbf\u95ee10.40.13.202:9500/hub/change-password/\u7528\u6237\u540d\uff09 edit user\uff1a \u4fee\u6539\u7528\u6237\u540d\uff0c\u6dfb\u52a0\u7ba1\u7406\u6743\u9650 delete user\uff1a\u5220\u9664\u7528\u6237\uff0c\u8fde\u5e26\u4f1a\u5220\u9664\u7cfb\u7edf\u7528\u6237\u548c\u8be5\u7528\u6237\u6240\u6709\u6570\u636e\uff08\u53ef\u80fdhdfs\u6570\u636e\u8fd8\u4f1a\u4fdd\u7559\uff09 Add Users\uff1a\u56e0\u4e3ajupyterhub\u7684\u767b\u9646\u9a8c\u8bc1\u5668\u91cd\u65b0\u5f00\u53d1\uff0c\u8fd9\u4e2a\u6dfb\u52a0\u7528\u6237\u529f\u80fd\u76ee\u524d\u57fa\u672c\u4e0a\u4e0d\u8d77\u4f5c\u7528\uff0c\u4e0d\u5e94\u8be5\u4f7f\u7528\uff0c\u65b0\u589e\u7528\u6237\u5e94\u7531\u7528\u6237\u81ea\u884c\u6ce8\u518c\u540e\u7ba1\u7406\u5458\u5ba1\u6838\u901a\u8fc7\u4ea7\u751f\u3002","title":"\u524d\u53f0\u7ba1\u7406JupyterHub"},{"location":"admin/jupyter/#_1","text":"\u7ba1\u7406\u754c\u9762\u70b9\u51fb\"Authorize Users\"\u6216\u8bbf\u95ee http://10.40.13.202/hub/authorize \u53ef\u4ee5\u6fc0\u6d3b\u65b0\u6ce8\u518c\u7528\u6237\uff0c\u6216\u8005\u53cd\u6fc0\u6d3b\u4e00\u4e2a\u7528\u6237\u4f7f\u5176\u65e0\u6cd5\u767b\u9646\uff0c\u754c\u9762\u4e2d\u7684discard\u7b49\u4ef7\u4e8e\u5220\u9664\u7528\u6237\uff0c\u8fde\u5e26\u4f1a\u5220\u9664\u7cfb\u7edf\u7528\u6237\u548c\u8be5\u7528\u6237\u6240\u6709\u6570\u636e\uff08\u53ef\u80fdhdfs\u6570\u636e\u8fd8\u4f1a\u4fdd\u7559\uff09","title":"\u6388\u6743\u6fc0\u6d3b/\u53cd\u6fc0\u6d3b\u7528\u6237"},{"location":"admin/jupyter/#jupyterhub_2","text":"jupyterhub\u9700\u8981\u4ee5root\u8eab\u4efd\u542f\u52a8\uff0c\u539f\u59cb\u547d\u4ee4\u5982\u4e0b conda activate jupyterhub jupyterhub -f /etc/jupyterhub/jupyterhub_config.py -f\u540e\u9762\u7684\u662f\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\uff0c\u5bf9\u9ed8\u8ba4\u914d\u7f6e\u505a\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u4e0a\u67e5\u770b\u5e76\u53c2\u8003https://jupyterhub.readthedocs.io/en/stable/reference/config-reference.html\u3002 \u53e6\u5916\u8fd0\u884c\u65f6\u7684\u6570\u636e\u4fdd\u5b58\u8fd8\u9700\u8981 \u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u5b58\u50a8\u5728/var/jupyterhub/jupyterhub.sqlite \u4e00\u4e2a\u4fdd\u5b58\u7528\u6237\u767b\u9646\u72b6\u6001\u7684cookie\uff0c\u5b58\u50a8\u5728/var/jupyterhub/jupyterhub_cookie_secret \u4e00\u4e2a\u8bb0\u5f55jupyterhub\u8fdb\u7a0b\u53f7\u7684pid\u6587\u4ef6\uff0c\u5b58\u50a8\u5728/var/jupyterhub/jupyterhub_proxy.pid \u8fd9\u4e9b\u5728\u914d\u7f6e\u6587\u4ef6/etc/jupyterhub/jupyterhub_config.py\u4e2d\u90fd\u6709\u4f53\u73b0\u3002","title":"JupyterHub\u7684\u540e\u53f0\u914d\u7f6e"},{"location":"admin/jupyter/#jupyterhubservice","text":"\u4f46\u5b9e\u9645\u4e0a\u76ee\u524d\u4e0d\u662f\u8fd9\u6837\u542f\u52a8\u7684\uff0c\u6211\u4eec\u5c06jupyterhub\u6ce8\u518c\u4e3a\u4e00\u4e2a\u7cfb\u7edf\u7684\u670d\u52a1\uff08service\uff09\uff0c\u5e76\u7531systemctl\u81ea\u52a8\u542f\u52a8 \u6ce8\u518c\u670d\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u5b58\u50a8\u5728/etc/systemd/system/jupyterhub.service [Unit] Description=\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\u8bfe\u7a0bJupyterHub Documentation=https://jupyterhub.readthedocs.io/en/stable/index.html After=syslog.target network.target [Service] User=root Environment=\"PATH=/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/local/anaconda3/envs/jupyter/bin\" ExecStart=/usr/local/anaconda3/envs/jupyter/bin/jupyterhub -f /home/hadoop/jupyterhub_config.py Restart=on-failure [Install] WantedBy=multi-user.target \u7ba1\u7406\u547d\u4ee4\u4e3a\u4f7f\u7528sudo\u6216root\u8eab\u4efd\u7684systemctl\u547d\u4ee4 systemctl start/stop jupyterhub # \u542f\u52a8\u3001\u505c\u6b62 systemctl status jupyterhub # \u67e5\u770b\u72b6\u6001\u53ca\u6700\u8fd1\u7684\u65e5\u5fd7 systemctl restart jupyterhub # \u91cd\u542f systemctl enable/disable jupyterhub # \u5f00\u673a\u542f\u52a8/\u4e0d\u542f\u52a8jupyterhub","title":"JupyterHub\u914d\u7f6e\u4e3a\u81ea\u542f\u52a8service"},{"location":"admin/jupyter/#native-authenticator","text":"\u5bf9\u4e8eJupyterHub\u7684\u7528\u6237\u9a8c\u8bc1\uff0c\u6211\u4eec\u4f7f\u7528 NativeAuthenticator \uff0c\u800c\u4e14\u4e3a\u4e86\u7ed1\u5b9a\u7cfb\u7edf\u7528\u6237\u7684\u6ce8\u518c\u548c\u5220\u9664\uff0c\u505a\u4e86\u4e00\u4e9b\u4fee\u6539\uff0c\u91cd\u5199\u4e86\u8fd9\u4e2a\u6269\u5c55\uff0c\u6e90\u4ee3\u7801\u5728 github \u3002 \u56e0\u6b64\u5b89\u88c5\u8fd9\u4e2a\u81ea\u5b9a\u4e49\u7684\u7528\u6237\u8ba4\u8bc1\u6a21\u5757\u65f6\uff0c\u4e0d\u80fd\u76f4\u63a5\u4f7f\u7528pip\u4ecepypi\u4e0a\u4e0b\u8f7d\uff0c\u800c\u5e94\u8be5\u5148\u4ecegithub\u7684\u4ee3\u7801\u4ed3\u5e93\u514b\u9686\uff0c\u7136\u540e\u4f7f\u7528\u4ee3\u7801\u4e2d\u7684setup.py\uff0c\u5373setuptools\u672c\u5730\u5b89\u88c5 git clone https://github.com/Alexhaoge/nativeauthenticator.git cd nativeauthenticator conda activate jupyterhub python setup.py install \u76ee\u524d\u4ed3\u5e93\u5df2\u7ecf\u4e0b\u8f7d\u5230/home/hadoop/nativeauthenticator\uff0c\u66f4\u65b0\u7684\u8bddgit pull\u5373\u53ef","title":"\u4f7f\u7528native authenticator\u5e76\u81ea\u5b9a\u4e49\u4fee\u6539"},{"location":"admin/jupyter/#_2","text":"\u7531\u4e8eJupyterHub\u81ea\u52a8\u521b\u5efa\u7684\u65b0\u7528\u6237\u7528\u6237\u540d\u662fst\u5f00\u5934\u7684\uff0c\u5bb6\u76ee\u5f55\u5728/data/home/stxxxxx\u4e0b\uff0c\u7ba1\u7406\u5458\u7528\u6237\u9700\u8981\u547d\u4ee4\u884c\u624b\u52a8\u521b\u5efa 1. \u521b\u5efaLinux\u7cfb\u7edf\u7528\u6237 useradd -m -s /bin/bash new_user \u4fee\u6539JupyterHub\u914d\u7f6e\u6587\u4ef6 /etc/jupyterhub/jupyterhub_config.py \uff0c\u53ef\u4ee5\u901a\u8fc7vim\u6253\u5f00 vim /etc/jupyterhub/jupyterhub_config.py \uff1b\u627e\u5230 c.Authenticator.admin_users \uff0c\u6dfb\u52a0\u65b0\u5efa\u7684\u7528\u6237\u540d\uff1b c.Authenticator.admin_users = {'chen', 'alice', 'bob', 'new_user'} \u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u5f88\u957f\uff0c\u5982\u679c\u627e\u4e0d\u5230\u9009\u9879\u53ef\u4ee5\u4f7f\u7528vim\u641c\u7d22\u529f\u80fd\uff0c\u5148\u6309 Esc \u8fdb\u5165vim\u547d\u4ee4\u6a21\u5f0f\u518d\u8f93\u5165 /admin_users \u56de\u8f66\u5373\u53ef\u627e\u5230\uff0c\u4e4b\u540e\u6309 i \u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff0c\u5b8c\u6210\u7f16\u8f91\u540e Esc \u8fdb\u5165\u547d\u4ee4\u6a21\u5f0f\uff0c\u8f93\u5165 :wq \u4fdd\u5b58\u9000\u51fa\u3002 3. \u91cd\u542fJupyterHub 4. \u5728JupyterHub\u524d\u53f0\u89c1\u9762\u5b8c\u6210\u6ce8\u518c\u6d41\u7a0b\uff0c\u7528\u6237\u540d\u5bc6\u7801\u4e0e\u521a\u521b\u5efa\u7684linux\u7528\u6237\u4e00\u81f4 5. \u4f7f\u7528\u65b0\u521b\u5efa\u7684\u7ba1\u7406\u5458\u8d26\u6237\u767b\u9646","title":"\u6dfb\u52a0\u7ba1\u7406\u5458"},{"location":"admin/mysql/","text":"MySQL\u6570\u636e\u5e93\u7ba1\u7406 \u521b\u5efa\u7ba1\u7406\u5458 create user 'username'@'%' identified by 'password'; grant all privileges on *.* to 'username'@'%'; \u4fee\u6539\u67d0\u4e2a\u7528\u6237\u5bc6\u7801 alter user 'username'@'%' identified by 'newpassword'; \u7ba1\u7406\u5458\u6279\u91cf\u521b\u5efa\u7528\u6237\u811a\u672c -- \u8fd9\u4e2a\u811a\u672c\u80fd\u6279\u91cf\u521b\u5efa\u7528\u6237\uff0c\u7528\u6237\u540d\u4e3ast+\u5b66\u53f7\uff0c\u5bf9\u5e94\u4e00\u4e2a\u5b66\u751f\u81ea\u5df1\u7684\u540c\u540d\u6570\u636e\u5e93\u6709\u6240\u6709\u6743\u9650\uff0c\u5bf9\u4e8e\u5176\u4ed6\u6570\u636e\u5e93\u6709\u53ea\u8bfb\u6743\u9650 use mysql; set global validate_password_policy=0; set global validate_password_length=1; drop table if exists stu_list; create table stu_list( id char(7) PRIMARY KEY, pwd varchar(20) ); -- \u8fd9\u91cc\u8f93\u5165('\u5b66\u53f7', '\u5bc6\u7801') \u53ef\u4ee5\u5b66\u751f\u81ea\u5df1\u4fee\u6539\uff0c\u4f46\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u5b57\u7b26 insert into stu_list values ('1810063', 'alex'), ('1810064', 'bobb'); -- \u6279\u91cf\u7684\u5b58\u50a8\u8fc7\u7a0b drop procedure if exists create_stu; delimiter ;; create DEFINER=`root`@`localhost` procedure create_stu() begin declare ids char(7); declare pwds varchar(20); declare done int default false; declare cur cursor for select `id` from `stu_list`; declare continue handler for NOT FOUND set done = true; open cur; -- \u5f00\u59cb\u6e38\u6807 LOOP_LABLE:loop FETCH cur INTO ids; select pwd into pwds from stu_list where id=ids; set @name = CONCAT('st', ids); set @create_db_sql = concat('create database if not exists ', @name, ';'); PREPARE stmt FROM @create_db_sql; EXECUTE stmt; SET @user_sql = CONCAT('GRANT ALL PRIVILEGES ON ', @name,\".* TO '\", @name, \"'@'%' IDENTIFIED BY '\", pwds, \"';\"); PREPARE stmt FROM @user_sql; EXECUTE stmt; SET @user_sql = CONCAT('GRANT SELECT ON ', \"*.* TO '\", @name, \"'@'%';\"); PREPARE stmt FROM @user_sql; EXECUTE stmt; FLUSH PRIVILEGES; if done THEN LEAVE LOOP_LABLE; END IF; end LOOP; CLOSE cur; FLUSH PRIVILEGES; end; ;; delimiter ; -- \u8c03\u7528 CALL create_stu(); drop database if exists st1810063; drop database if exists st1810064; drop user if exists st1810063; drop user if exists st1810064; drop table stu_list;","title":"MySQL"},{"location":"admin/mysql/#mysql","text":"","title":"MySQL\u6570\u636e\u5e93\u7ba1\u7406"},{"location":"admin/mysql/#_1","text":"create user 'username'@'%' identified by 'password'; grant all privileges on *.* to 'username'@'%';","title":"\u521b\u5efa\u7ba1\u7406\u5458"},{"location":"admin/mysql/#_2","text":"alter user 'username'@'%' identified by 'newpassword';","title":"\u4fee\u6539\u67d0\u4e2a\u7528\u6237\u5bc6\u7801"},{"location":"admin/mysql/#_3","text":"-- \u8fd9\u4e2a\u811a\u672c\u80fd\u6279\u91cf\u521b\u5efa\u7528\u6237\uff0c\u7528\u6237\u540d\u4e3ast+\u5b66\u53f7\uff0c\u5bf9\u5e94\u4e00\u4e2a\u5b66\u751f\u81ea\u5df1\u7684\u540c\u540d\u6570\u636e\u5e93\u6709\u6240\u6709\u6743\u9650\uff0c\u5bf9\u4e8e\u5176\u4ed6\u6570\u636e\u5e93\u6709\u53ea\u8bfb\u6743\u9650 use mysql; set global validate_password_policy=0; set global validate_password_length=1; drop table if exists stu_list; create table stu_list( id char(7) PRIMARY KEY, pwd varchar(20) ); -- \u8fd9\u91cc\u8f93\u5165('\u5b66\u53f7', '\u5bc6\u7801') \u53ef\u4ee5\u5b66\u751f\u81ea\u5df1\u4fee\u6539\uff0c\u4f46\u81f3\u5c11\u8981\u6709\u4e00\u4e2a\u5b57\u7b26 insert into stu_list values ('1810063', 'alex'), ('1810064', 'bobb'); -- \u6279\u91cf\u7684\u5b58\u50a8\u8fc7\u7a0b drop procedure if exists create_stu; delimiter ;; create DEFINER=`root`@`localhost` procedure create_stu() begin declare ids char(7); declare pwds varchar(20); declare done int default false; declare cur cursor for select `id` from `stu_list`; declare continue handler for NOT FOUND set done = true; open cur; -- \u5f00\u59cb\u6e38\u6807 LOOP_LABLE:loop FETCH cur INTO ids; select pwd into pwds from stu_list where id=ids; set @name = CONCAT('st', ids); set @create_db_sql = concat('create database if not exists ', @name, ';'); PREPARE stmt FROM @create_db_sql; EXECUTE stmt; SET @user_sql = CONCAT('GRANT ALL PRIVILEGES ON ', @name,\".* TO '\", @name, \"'@'%' IDENTIFIED BY '\", pwds, \"';\"); PREPARE stmt FROM @user_sql; EXECUTE stmt; SET @user_sql = CONCAT('GRANT SELECT ON ', \"*.* TO '\", @name, \"'@'%';\"); PREPARE stmt FROM @user_sql; EXECUTE stmt; FLUSH PRIVILEGES; if done THEN LEAVE LOOP_LABLE; END IF; end LOOP; CLOSE cur; FLUSH PRIVILEGES; end; ;; delimiter ; -- \u8c03\u7528 CALL create_stu(); drop database if exists st1810063; drop database if exists st1810064; drop user if exists st1810063; drop user if exists st1810064; drop table stu_list;","title":"\u7ba1\u7406\u5458\u6279\u91cf\u521b\u5efa\u7528\u6237\u811a\u672c"},{"location":"admin/rstudio/","text":"Rstudio Server \u4f7f\u7528\u8bf4\u660e \u670d\u52a1\u4e0a\u5b89\u88c5\u4e86Rstuio Server\uff0c\u5730\u5740\u4e3a http://10.40.13.202:8787 \u3002\u7528\u6237\u540d\u548c\u5bc6\u7801\u4e0elinux/JupyterHub\u76f8\u540c \u9274\u4e8e\u8d44\u6e90\u6709\u9650\uff0c\u4e0d\u5efa\u8bae\u5bf9\u5b66\u751f\u5f00\u653e\u3002\u6211\u4eec\u8bbe\u7f6e\u4e86\u7528\u6237\u7ec4\u9650\u5236\uff0c\u5fc5\u987b\u5728rstudio-users\u7528\u6237\u7ec4\u624d\u80fd\u767b\u9646\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5c06\u7528\u6237\u6dfb\u52a0\u81f3\u7528\u6237\u7ec4 adduser \u7528\u6237\u540d rstudio-users \u5728Rstuio\u754c\u9762\u53ef\u4ee5\u901a\u8fc7 install.packages \u5b89\u88c5R\u5305\u81f3\u4e2a\u4eba\u76ee\u5f55\uff0c\u5982\u679c\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u6bd4\u8f83\u5927\u7684\u5305\uff0c\u5efa\u8bae\u901a\u8fc7ssh\u547d\u4ee4\u884c\uff0c\u4f7f\u7528root\u6743\u9650\u5b89\u88c5\u5230\u7cfb\u7edf\u76ee\u5f55\u4f9b\u6240\u6709\u7528\u6237\u4f7f\u7528\u3002\u4e00\u4e9bR\u5305\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9700\u8981\u5bf9\u5e94\u7684linux\u5e93\u652f\u6301\uff0c\u6309\u7167R\u7684\u9519\u8bef\u63d0\u793a\uff0c\u4f7f\u7528apt\u547d\u4ee4\u5b89\u88c5\u5373\u53ef\u3002","title":"Rstudio"},{"location":"admin/rstudio/#rstudio-server","text":"\u670d\u52a1\u4e0a\u5b89\u88c5\u4e86Rstuio Server\uff0c\u5730\u5740\u4e3a http://10.40.13.202:8787 \u3002\u7528\u6237\u540d\u548c\u5bc6\u7801\u4e0elinux/JupyterHub\u76f8\u540c \u9274\u4e8e\u8d44\u6e90\u6709\u9650\uff0c\u4e0d\u5efa\u8bae\u5bf9\u5b66\u751f\u5f00\u653e\u3002\u6211\u4eec\u8bbe\u7f6e\u4e86\u7528\u6237\u7ec4\u9650\u5236\uff0c\u5fc5\u987b\u5728rstudio-users\u7528\u6237\u7ec4\u624d\u80fd\u767b\u9646\uff0c\u901a\u8fc7\u5982\u4e0b\u547d\u4ee4\u5c06\u7528\u6237\u6dfb\u52a0\u81f3\u7528\u6237\u7ec4 adduser \u7528\u6237\u540d rstudio-users \u5728Rstuio\u754c\u9762\u53ef\u4ee5\u901a\u8fc7 install.packages \u5b89\u88c5R\u5305\u81f3\u4e2a\u4eba\u76ee\u5f55\uff0c\u5982\u679c\u662f\u4e00\u4e9b\u5e38\u7528\u7684\u6bd4\u8f83\u5927\u7684\u5305\uff0c\u5efa\u8bae\u901a\u8fc7ssh\u547d\u4ee4\u884c\uff0c\u4f7f\u7528root\u6743\u9650\u5b89\u88c5\u5230\u7cfb\u7edf\u76ee\u5f55\u4f9b\u6240\u6709\u7528\u6237\u4f7f\u7528\u3002\u4e00\u4e9bR\u5305\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u9700\u8981\u5bf9\u5e94\u7684linux\u5e93\u652f\u6301\uff0c\u6309\u7167R\u7684\u9519\u8bef\u63d0\u793a\uff0c\u4f7f\u7528apt\u547d\u4ee4\u5b89\u88c5\u5373\u53ef\u3002","title":"Rstudio Server \u4f7f\u7528\u8bf4\u660e"},{"location":"admin/spark_hadoop/","text":"\u7ba1\u7406Spark\u548cHDFS \u542f\u52a8\u548c\u5173\u95ed Spark\u548cHadoop\u7684\u90e8\u7f72\u5176\u5b9e\u53ef\u914d\u7f6e\u7684\u4e1c\u897f\u5f88\u590d\u6742\uff0c\u4f46\u662f\u591a\u6570\u6559\u5b66\u7528\u4e0d\u5230\u800c\u4e14\u6bd5\u7adf\u9ebb\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u542f\u52a8\u6700\u7b80\u5355\u7684Spark Standalone\u548cHDFS $SPARK_HOME/sbin/start-all.sh # \u542f\u52a8spark $SPARK_HOME/sbin/stop-all.sh # \u5173\u95edspark $HADOOP_HOME/sbin/start-dfs.sh # \u542f\u52a8hdfs $HADOOP_HOME/sbin/stop-dfs.sh # \u5173\u95edhdfs # \u5982\u679c\u73af\u5883\u53d8\u91cf\u6ca1\u6709\u627e\u5230\u4e0a\u9762\u7684\u811a\u672c\uff0c\u8f93\u5165source /etc/profile spark\u548chadoop\u914d\u7f6e\u6210\u7cfb\u7edf\u670d\u52a1\u6bd4\u8f83\u56f0\u96be\uff0c\u76ee\u524d\u52a0\u5230\u4e86\u5f00\u673a\u9879\uff0c\u4f46\u4e0d\u4fdd\u8bc1\u9047\u5230\u4e00\u4e9b\u7279\u6b8a\u539f\u56e0\u4f1a\u81ea\u884c\u5173\u95ed\uff0c\u5982\u679c\u53d1\u73b0\u8fde\u63a5\u4e0d\u4e0a\uff0c\u9700\u8981\u624b\u52a8\u542f\u52a8\u3002 \u76ee\u524dspark\u96c6\u7fa4\u6709\u4e00\u4e2amaster\uff0c\u4e00\u4e2aworker\u8282\u70b9\uff0c\u5219\u542f\u52a8\u65f6\u547d\u4ee4\u5982\u4e0b $SPARK_HOME/sbin/start-master.sh $SPARK_HOME/sbin/start-worker.sh Spark\u4e0d\u80fd\u4f7f\u7528root\u542f\u52a8\uff0c\u56e0\u4e3a\u542f\u52a8\u7528\u6237\u901a\u8fc7ssh\u8fde\u63a5master\u548cworker\uff0c\u800croot\u51fa\u4e8e\u5b89\u5168\u8003\u8651\u88ab\u7981\u6b62ssh\u767b\u5f55 WebUI HDFS 10.40.13.202:50070 Spark Master\u8282\u70b9 10.40.13.202:8080 spark-shell/pyspark\u7684\u5e94\u7528\u76d1\u63a7\uff1a10.40.13.202:4040,4041,4042,... \u4e3a\u907f\u514d\u5360\u7528\u8fc7\u591a\u670d\u52a1\u5668\u8d44\u6e90\uff0cspark-defaults.conf\u4e2d\u6211\u4eec\u53ef\u4ee5\u7981\u7528spark-shell/pyspark\u7684ui\uff08 spark.ui.enabled false \uff09\u3002 \u901a\u8fc7WebUI\u76d1\u63a7spark\u4f5c\u4e1a \u572810.40.13.202:8080\u4e2d\u53ef\u4ee5\u770b\u5230\u5f53\u524dspark\u4e2d\u8fd0\u884c\u7684application\uff0c\u53ef\u4ee5\u624b\u52a8\u7ed3\u675f\u5360\u7528\u8d44\u6e90\u8fc7\u5927\u7684\u4f5c\u4e1a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7f51\u9875\u63d0\u4f9b\u7684\u94fe\u63a5\u8bbf\u95ee\u5177\u4f53\u67d0\u4e2a\u4f5c\u4e1a\u7684WebUI\uff0c\u5982\u679c\u7f51\u9875\u8bbf\u95ee\u5931\u8d25\uff0c\u8bf7\u6ce8\u610f\u7f51\u5740\u57df\u540d\u662f\u5426\u53d8\u6210\u4e86chenserver.chen.server\uff0c\u5c06\u5176\u6539\u4e3a10.40.13.202\u91cd\u65b0\u8bbf\u95ee\u5373\u53ef\u3002 \u53e6\u5916\uff0c\u8bf7\u901a\u8fc7 netstat -nltp \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b4040\u30014041\u30014042...\u8fd9\u4e00\u65cf\u7aef\u53e3\u7684\u5f00\u542f\u60c5\u51b5\uff0c\u5e76\u7ed3\u54088080\u7f51\u9875\u7684\u4f5c\u4e1a\u60c5\u51b5\u5bf9\u6bd4\uff0c\u662f\u5426\u6709\u5b66\u751f\u7528\u6237\u81ea\u884c\u521b\u5efa\u4e86\u65b0\u7684spark cluster\uff0c\u5982\u679c\u6709\uff0c\u8bf7\u53ca\u65f6\u7ec8\u6b62\u5176\u8fdb\u7a0b\u3002 \u5b89\u88c5\u914d\u7f6e \u8fd9\u90e8\u5206\u7f51\u4e0a\u7684\u6559\u7a0b\u5f88\u591a\uff0c\u4e3b\u8981\u5c31\u662f\u8fd9\u51e0\u4e2a\u6b65\u9aa4 \u62f7\u8d1dssh\u5bc6\u94a5\u914d\u7f6e\u514d\u5bc6 \u4e0b\u8f7d\u8f6f\u4ef6 \u4fee\u6539\u73af\u5883\u53d8\u91cf\u914d\u7f6eJAVA_HOM/HADOOP_HOME/SPARK_HOME \u4fee\u6539Spark\u548cHadoop\u81ea\u8eab\u914d\u7f6e \u5bf9\u4e8espark\u4e3b\u8981\u662f$SPARK_HOME/conf/spark-env.sh\u914d\u7f6e\u597d\u4e00\u4e9b\u53d8\u91cf \u5bf9\u4e8ehadoop\u662f$HADOOP_HOME/etc/hadoop/\uff0c\u8fd9\u91cc\u6bd4\u8f83\u590d\u6742\u9700\u8981\u53c2\u8003\u7f51\u4e0a\u6559\u7a0b\uff0c\u7136\u540e\u521d\u59cb\u5316namenode \u7528\u5b89\u88c5\u76ee\u5f55sbin\u6587\u4ef6\u5939\u5185\u7684\u811a\u672c\u542f\u52a8\u670d\u52a1 Jps\u67e5\u770b\u5df2\u542f\u52a8\u8fdb\u7a0b\u5224\u65ad\u662f\u5426\u6210\u529f\uff0cHDFS\u662f\u770b\u5230namenode\u3001secondarynamenode\u3001datanode\u5404\u4e00\u4e2a\uff0cSpark\u662f\u770b\u5230Master\u548cWorker\u5404\u4e00\u4e2a \u73af\u5883\u53d8\u91cf\u4fee\u6539/etc/profile\u76f4\u63a5\u4e3a\u6240\u6709\u7528\u6237\u914d\u7f6e\u6bd4\u8f83\u7701\u4e8b\uff0c\u4f46\u4fdd\u9669\u8d77\u89c1spark\u548chadoop\u81ea\u5df1\u7684\u73af\u5883\u53d8\u91cf\u4ecd\u8981\u5199\u4e00\u904d\u3002 \u52a8\u6001\u8d44\u6e90\u5206\u914d Spark\u9ed8\u8ba4\u914d\u7f6e\u4f1a\u7ed9\u6bcf\u4e2aapplication\u7684executer\u5206\u914d\u6240\u6709\u53ef\u7528\u7684cpu\uff0c\u76f4\u81f3application\u9000\u51fa\u624d\u91ca\u653e\u3002\u800c\u6211\u4eec\u7684\u8bfe\u7a0b\u4e2d\u5b66\u751f\u591a\u4f7f\u7528\u4ea4\u4e92\u5f0fspark\u800c\u975e\u4f5c\u4e1a\u63d0\u4ea4\uff0c\u4e0d\u7ec8\u6b62notebook/session\u65f6application\u6839\u672c\u4e0d\u4f1a\u9000\u51fa\uff0c\u5728\u591a\u4eba\u540c\u65f6\u8fde\u63a5\u65f6\u5176\u4ed6\u4eba\u7684\u7a0b\u5e8f\u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u6bcf\u4e2aexcutor\u53ef\u4f7f\u7528\u7684\u6700\u5927cpu\u6838\u6570\uff0c\u4ee5\u53ca\u52a8\u6001\u8d44\u6e90\u5206\u914d\uff0c\u4ee5\u4fbf\u5728\u7528\u6237\u4e0d\u8fd0\u884c\u65b0\u7684\u4ea4\u4e92\u5f0f\u547d\u4ee4\uff0c\u7cfb\u7edf\u81ea\u52a8\u91ca\u653e\u5bf9\u5e94\u7684executor\u3002\u8be6\u7ec6\u914d\u7f6e\u8bf7\u67e5\u9605 spark\u5b98\u65b9\u6587\u6863 \u3002 \u5728spark-defaults.conf\u4e2d\u6dfb\u52a0\u5982\u4e0b\u8bbe\u7f6e # \u52a8\u6001\u8d44\u6e90\u5206\u914d spark.dynamicAllocation.enabled true ## \u8bbe\u7f6e\u6bcf\u4e2aexecuter\u5728\u95f2\u7f6e30s\u540e\u91ca\u653e spark.dynamicAllocation.executorIdleTimeout 30s ## \u8bbe\u7f6e\u6bcf\u4e2aexecuter\u7684\u7f13\u5b58\u5728\u95f2\u7f6e\u4e24\u5929\u540e\u4e5f\u91ca\u653e spark.dynamicAllocation.cachedExecutorIdleTimeout 2d spark.dynamicAllocation.shuffleTracking.enabled true spark.shuffle.service.enabled true # \u6bcf\u4e2aexecutor\u542f\u52a8\u65f6\u9ed8\u8ba4\u5206\u914d\u7684cpu\u4e2a\u6570 spark.deploy.defaultCores 2 # \u6700\u5927\u5206\u914d\u7684cpu\u4e2a\u6570 spark.cores.max 4 \u793a\u4f8b\u914d\u7f6e\u6587\u4ef6 spark-env.sh SPARK_LOCAL_IP=10.40.13.202 SPARK_LOG_DIR=/data/spark/logs SPARK_SSH_OPTS=\"-p 9933\" JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64 SPARK_HOME=/usr/local/spark-3.3.0-bin-hadoop3 SCALA_HOME=/usr/share/scala-2.11 PYSPARK_PYTHON=/usr/local/anaconda3/envs/jupyter/bin/python PYSPARK_DRIVER_PYTHON=/usr/local/anaconda3/envs/jupyter/bin/python spark-defaults.conf spark.master spark://10.40.13.202:7077 spark.dynamicAllocation.enabled true spark.dynamicAllocation.executorIdleTimeout 30s spark.dynamicAllocation.cachedExecutorIdleTimeout 2d spark.dynamicAllocation.shuffleTracking.enabled true spark.shuffle.service.enabled true spark.deploy.defaultCores 2 spark.cores.max 4 \u5173\u4e8eScala \u76ee\u524djupyter\u5e76\u672a\u5b89\u88c5scala\u7684kernel scala\u7684\u914d\u7f6e\u76f8\u6bd4python\u6709\u4e00\u4e9b\u590d\u6742\uff0c\u4e14apache-toree\u6587\u6863\u4e0d\u662f\u5f88\u5b8c\u5584\uff0c\u76ee\u524d\u6ca1\u6709\u5b89\u88c5\uff0c\u5982\u679c\u540e\u7eed\u9700\u8981\u53ef\u4ee5\u5c1d\u8bd5","title":"Spark/Hadoop"},{"location":"admin/spark_hadoop/#sparkhdfs","text":"","title":"\u7ba1\u7406Spark\u548cHDFS"},{"location":"admin/spark_hadoop/#_1","text":"Spark\u548cHadoop\u7684\u90e8\u7f72\u5176\u5b9e\u53ef\u914d\u7f6e\u7684\u4e1c\u897f\u5f88\u590d\u6742\uff0c\u4f46\u662f\u591a\u6570\u6559\u5b66\u7528\u4e0d\u5230\u800c\u4e14\u6bd5\u7adf\u9ebb\u70e6\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u542f\u52a8\u6700\u7b80\u5355\u7684Spark Standalone\u548cHDFS $SPARK_HOME/sbin/start-all.sh # \u542f\u52a8spark $SPARK_HOME/sbin/stop-all.sh # \u5173\u95edspark $HADOOP_HOME/sbin/start-dfs.sh # \u542f\u52a8hdfs $HADOOP_HOME/sbin/stop-dfs.sh # \u5173\u95edhdfs # \u5982\u679c\u73af\u5883\u53d8\u91cf\u6ca1\u6709\u627e\u5230\u4e0a\u9762\u7684\u811a\u672c\uff0c\u8f93\u5165source /etc/profile spark\u548chadoop\u914d\u7f6e\u6210\u7cfb\u7edf\u670d\u52a1\u6bd4\u8f83\u56f0\u96be\uff0c\u76ee\u524d\u52a0\u5230\u4e86\u5f00\u673a\u9879\uff0c\u4f46\u4e0d\u4fdd\u8bc1\u9047\u5230\u4e00\u4e9b\u7279\u6b8a\u539f\u56e0\u4f1a\u81ea\u884c\u5173\u95ed\uff0c\u5982\u679c\u53d1\u73b0\u8fde\u63a5\u4e0d\u4e0a\uff0c\u9700\u8981\u624b\u52a8\u542f\u52a8\u3002 \u76ee\u524dspark\u96c6\u7fa4\u6709\u4e00\u4e2amaster\uff0c\u4e00\u4e2aworker\u8282\u70b9\uff0c\u5219\u542f\u52a8\u65f6\u547d\u4ee4\u5982\u4e0b $SPARK_HOME/sbin/start-master.sh $SPARK_HOME/sbin/start-worker.sh Spark\u4e0d\u80fd\u4f7f\u7528root\u542f\u52a8\uff0c\u56e0\u4e3a\u542f\u52a8\u7528\u6237\u901a\u8fc7ssh\u8fde\u63a5master\u548cworker\uff0c\u800croot\u51fa\u4e8e\u5b89\u5168\u8003\u8651\u88ab\u7981\u6b62ssh\u767b\u5f55","title":"\u542f\u52a8\u548c\u5173\u95ed"},{"location":"admin/spark_hadoop/#webui","text":"HDFS 10.40.13.202:50070 Spark Master\u8282\u70b9 10.40.13.202:8080 spark-shell/pyspark\u7684\u5e94\u7528\u76d1\u63a7\uff1a10.40.13.202:4040,4041,4042,... \u4e3a\u907f\u514d\u5360\u7528\u8fc7\u591a\u670d\u52a1\u5668\u8d44\u6e90\uff0cspark-defaults.conf\u4e2d\u6211\u4eec\u53ef\u4ee5\u7981\u7528spark-shell/pyspark\u7684ui\uff08 spark.ui.enabled false \uff09\u3002","title":"WebUI"},{"location":"admin/spark_hadoop/#webuispark","text":"\u572810.40.13.202:8080\u4e2d\u53ef\u4ee5\u770b\u5230\u5f53\u524dspark\u4e2d\u8fd0\u884c\u7684application\uff0c\u53ef\u4ee5\u624b\u52a8\u7ed3\u675f\u5360\u7528\u8d44\u6e90\u8fc7\u5927\u7684\u4f5c\u4e1a\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7f51\u9875\u63d0\u4f9b\u7684\u94fe\u63a5\u8bbf\u95ee\u5177\u4f53\u67d0\u4e2a\u4f5c\u4e1a\u7684WebUI\uff0c\u5982\u679c\u7f51\u9875\u8bbf\u95ee\u5931\u8d25\uff0c\u8bf7\u6ce8\u610f\u7f51\u5740\u57df\u540d\u662f\u5426\u53d8\u6210\u4e86chenserver.chen.server\uff0c\u5c06\u5176\u6539\u4e3a10.40.13.202\u91cd\u65b0\u8bbf\u95ee\u5373\u53ef\u3002 \u53e6\u5916\uff0c\u8bf7\u901a\u8fc7 netstat -nltp \u547d\u4ee4\u53ef\u4ee5\u67e5\u770b4040\u30014041\u30014042...\u8fd9\u4e00\u65cf\u7aef\u53e3\u7684\u5f00\u542f\u60c5\u51b5\uff0c\u5e76\u7ed3\u54088080\u7f51\u9875\u7684\u4f5c\u4e1a\u60c5\u51b5\u5bf9\u6bd4\uff0c\u662f\u5426\u6709\u5b66\u751f\u7528\u6237\u81ea\u884c\u521b\u5efa\u4e86\u65b0\u7684spark cluster\uff0c\u5982\u679c\u6709\uff0c\u8bf7\u53ca\u65f6\u7ec8\u6b62\u5176\u8fdb\u7a0b\u3002","title":"\u901a\u8fc7WebUI\u76d1\u63a7spark\u4f5c\u4e1a"},{"location":"admin/spark_hadoop/#_2","text":"\u8fd9\u90e8\u5206\u7f51\u4e0a\u7684\u6559\u7a0b\u5f88\u591a\uff0c\u4e3b\u8981\u5c31\u662f\u8fd9\u51e0\u4e2a\u6b65\u9aa4 \u62f7\u8d1dssh\u5bc6\u94a5\u914d\u7f6e\u514d\u5bc6 \u4e0b\u8f7d\u8f6f\u4ef6 \u4fee\u6539\u73af\u5883\u53d8\u91cf\u914d\u7f6eJAVA_HOM/HADOOP_HOME/SPARK_HOME \u4fee\u6539Spark\u548cHadoop\u81ea\u8eab\u914d\u7f6e \u5bf9\u4e8espark\u4e3b\u8981\u662f$SPARK_HOME/conf/spark-env.sh\u914d\u7f6e\u597d\u4e00\u4e9b\u53d8\u91cf \u5bf9\u4e8ehadoop\u662f$HADOOP_HOME/etc/hadoop/\uff0c\u8fd9\u91cc\u6bd4\u8f83\u590d\u6742\u9700\u8981\u53c2\u8003\u7f51\u4e0a\u6559\u7a0b\uff0c\u7136\u540e\u521d\u59cb\u5316namenode \u7528\u5b89\u88c5\u76ee\u5f55sbin\u6587\u4ef6\u5939\u5185\u7684\u811a\u672c\u542f\u52a8\u670d\u52a1 Jps\u67e5\u770b\u5df2\u542f\u52a8\u8fdb\u7a0b\u5224\u65ad\u662f\u5426\u6210\u529f\uff0cHDFS\u662f\u770b\u5230namenode\u3001secondarynamenode\u3001datanode\u5404\u4e00\u4e2a\uff0cSpark\u662f\u770b\u5230Master\u548cWorker\u5404\u4e00\u4e2a \u73af\u5883\u53d8\u91cf\u4fee\u6539/etc/profile\u76f4\u63a5\u4e3a\u6240\u6709\u7528\u6237\u914d\u7f6e\u6bd4\u8f83\u7701\u4e8b\uff0c\u4f46\u4fdd\u9669\u8d77\u89c1spark\u548chadoop\u81ea\u5df1\u7684\u73af\u5883\u53d8\u91cf\u4ecd\u8981\u5199\u4e00\u904d\u3002","title":"\u5b89\u88c5\u914d\u7f6e"},{"location":"admin/spark_hadoop/#_3","text":"Spark\u9ed8\u8ba4\u914d\u7f6e\u4f1a\u7ed9\u6bcf\u4e2aapplication\u7684executer\u5206\u914d\u6240\u6709\u53ef\u7528\u7684cpu\uff0c\u76f4\u81f3application\u9000\u51fa\u624d\u91ca\u653e\u3002\u800c\u6211\u4eec\u7684\u8bfe\u7a0b\u4e2d\u5b66\u751f\u591a\u4f7f\u7528\u4ea4\u4e92\u5f0fspark\u800c\u975e\u4f5c\u4e1a\u63d0\u4ea4\uff0c\u4e0d\u7ec8\u6b62notebook/session\u65f6application\u6839\u672c\u4e0d\u4f1a\u9000\u51fa\uff0c\u5728\u591a\u4eba\u540c\u65f6\u8fde\u63a5\u65f6\u5176\u4ed6\u4eba\u7684\u7a0b\u5e8f\u4f1a\u4e00\u76f4\u7b49\u5f85\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u6bcf\u4e2aexcutor\u53ef\u4f7f\u7528\u7684\u6700\u5927cpu\u6838\u6570\uff0c\u4ee5\u53ca\u52a8\u6001\u8d44\u6e90\u5206\u914d\uff0c\u4ee5\u4fbf\u5728\u7528\u6237\u4e0d\u8fd0\u884c\u65b0\u7684\u4ea4\u4e92\u5f0f\u547d\u4ee4\uff0c\u7cfb\u7edf\u81ea\u52a8\u91ca\u653e\u5bf9\u5e94\u7684executor\u3002\u8be6\u7ec6\u914d\u7f6e\u8bf7\u67e5\u9605 spark\u5b98\u65b9\u6587\u6863 \u3002 \u5728spark-defaults.conf\u4e2d\u6dfb\u52a0\u5982\u4e0b\u8bbe\u7f6e # \u52a8\u6001\u8d44\u6e90\u5206\u914d spark.dynamicAllocation.enabled true ## \u8bbe\u7f6e\u6bcf\u4e2aexecuter\u5728\u95f2\u7f6e30s\u540e\u91ca\u653e spark.dynamicAllocation.executorIdleTimeout 30s ## \u8bbe\u7f6e\u6bcf\u4e2aexecuter\u7684\u7f13\u5b58\u5728\u95f2\u7f6e\u4e24\u5929\u540e\u4e5f\u91ca\u653e spark.dynamicAllocation.cachedExecutorIdleTimeout 2d spark.dynamicAllocation.shuffleTracking.enabled true spark.shuffle.service.enabled true # \u6bcf\u4e2aexecutor\u542f\u52a8\u65f6\u9ed8\u8ba4\u5206\u914d\u7684cpu\u4e2a\u6570 spark.deploy.defaultCores 2 # \u6700\u5927\u5206\u914d\u7684cpu\u4e2a\u6570 spark.cores.max 4","title":"\u52a8\u6001\u8d44\u6e90\u5206\u914d"},{"location":"admin/spark_hadoop/#_4","text":"spark-env.sh SPARK_LOCAL_IP=10.40.13.202 SPARK_LOG_DIR=/data/spark/logs SPARK_SSH_OPTS=\"-p 9933\" JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64 SPARK_HOME=/usr/local/spark-3.3.0-bin-hadoop3 SCALA_HOME=/usr/share/scala-2.11 PYSPARK_PYTHON=/usr/local/anaconda3/envs/jupyter/bin/python PYSPARK_DRIVER_PYTHON=/usr/local/anaconda3/envs/jupyter/bin/python spark-defaults.conf spark.master spark://10.40.13.202:7077 spark.dynamicAllocation.enabled true spark.dynamicAllocation.executorIdleTimeout 30s spark.dynamicAllocation.cachedExecutorIdleTimeout 2d spark.dynamicAllocation.shuffleTracking.enabled true spark.shuffle.service.enabled true spark.deploy.defaultCores 2 spark.cores.max 4","title":"\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6"},{"location":"admin/spark_hadoop/#scala","text":"\u76ee\u524djupyter\u5e76\u672a\u5b89\u88c5scala\u7684kernel scala\u7684\u914d\u7f6e\u76f8\u6bd4python\u6709\u4e00\u4e9b\u590d\u6742\uff0c\u4e14apache-toree\u6587\u6863\u4e0d\u662f\u5f88\u5b8c\u5584\uff0c\u76ee\u524d\u6ca1\u6709\u5b89\u88c5\uff0c\u5982\u679c\u540e\u7eed\u9700\u8981\u53ef\u4ee5\u5c1d\u8bd5","title":"\u5173\u4e8eScala"},{"location":"admin/sshlinux/","text":"SSH\u53caLinux\u5e38\u7528\u547d\u4ee4 \u6bcf\u4e2aJupyterHub\u8d26\u53f7\u5173\u8054\u4e86\u4e00\u4e2a\u670d\u52a1\u5668\u4e0a\u7684Linux\u8d26\u53f7\uff0c\u6240\u4ee5\u4e00\u4e9bJupyterLab\u4e0a\u4e0d\u65b9\u4fbf\u505a\u7684\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7SSH\u767b\u9646\u670d\u52a1\u5668\u76f4\u63a5\u5728Linux\u4e0a\u64cd\u4f5c SSH Windows10\u3001Linux\u3001MacOS\u53ef\u4ee5\u76f4\u63a5\u5728cmd/Powershell/Terminal\u4e2d\u8f93\u5165ssh\u547d\u4ee4\u767b\u9646 ssh -p \u7aef\u53e3\u53f7 -i \u5bc6\u94a5\u6587\u4ef6\u8def\u5f84 \u7528\u6237\u540d@10.40.13.202 \u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u6211\u4eec\u4fee\u6539\u4e86ssh\u7684\u4e00\u4e9b\u914d\u7f6e\uff0c\u7ba1\u7406\u5458\u8bf7\u5355\u72ec\u8054\u7cfb\u8001\u5e08\u6216\u6587\u6863\u7f16\u5199\u8005\u83b7\u53d6\u65b0\u914d\u7f6e\u4e0b\u7684\u767b\u9646\u65b9\u6cd5 SSH\u514d\u5bc6\u767b\u9646\u914d\u7f6e \u4e24\u79cd\u65b9\u6cd5\uff1a 1. \u81ea\u5df1\u73b0\u6709ssh\u516c\u94a5\u76f4\u63a5\u8ffd\u52a0\u5230 ~/.ssh/authorized_keys \u4e2d 2. \u65b0\u5efa\u670d\u52a1\u5668\u7528\u6237\u7684ssh\u516c\u79c1\u94a5\uff0c\u5c06\u516c\u94a5\u6dfb\u52a0\u5230 authorized_keys \uff0c\u4e0b\u8f7d\u79c1\u94a5\u5230\u4e2a\u4eba\u7535\u8111\u3002 ssh-keygen # \u6309\u63d0\u793a\u8fde\u6309\u4e09\u6b21\u56de\u8f66 cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys # \u4e0b\u8f7d~/.ssh/id_rsa SSH\u5ba2\u6237\u7aef MobaXterm \u63a8\u8350\u5728windows\u4e0a\u4f7f\u7528\u7684mobaxterm\u800c\u4e0d\u662f\u547d\u4ee4\u884c\uff0c \u5b98\u7f51 \u53ef\u80fd\u4e0b\u8f7d\u6bd4\u8f83\u6162\uff0c\u670d\u52a1\u5668\u4e0a\u4fdd\u5b58\u4e86\u5b89\u88c5\u5305 \u914d\u7f6e\u6b65\u9aa4 1. \u6253\u5f00MobaXterm\uff0c\u70b9\u51fbsession\u6309\u94ae\u65b0\u5efa\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u9009\u62e9ssh \u5982\u56fe\u6240\u793a\u5728\u5bf9\u5e94\u4f4d\u7f6e\u586b\u5165ip\u5730\u5740\u3001\u7528\u6237\u540d\u3001\u7aef\u53e3\u53f7\u548c\u5bc6\u94a5\u6587\u4ef6\u5728\u4f60\u7535\u8111\u4e0a\u7684\u8def\u5f84 \u5b8c\u6210\u914d\u7f6e\uff0c\u8fd9\u4e2a\u4f1a\u8bdd\u4f1a\u51fa\u73b0\u5728\u5de6\u4fa7session\u4fa7\u8fb9\u680f\u4e2d\uff0c\u53cc\u51fb\u5373\u53ef\u6253\u5f00ssh\u8fde\u63a5 \u5982\u9700\u8bbf\u95ee\u56fe\u5f62\u5316\u754c\u9762\uff0c\u5c06\u9f20\u6807\u653e\u7f6e\u4e8eMobaXterm \u53f3\u4e0a\u89d2X\u56fe\u6807 \u4e0a\uff0c\u4f1a\u663e\u793a\u4e00\u4e2axxx.xxx.xxx.xxx:0.0\u7684\u503c\uff0c\u5c06\u5f53\u524dssh\u4f1a\u8bdd\u7684DISPLAY\u73af\u5883\u53d8\u91cf\u4fee\u6539\u4e3a\u4e0e\u8fd9\u4e2a\u503c\u5373\u53ef Linux\u5e38\u7528\u547d\u4ee4 Linux\u5e38\u7528\u547d\u4ee4\u5927\u5168 \u51e0\u4e4e\u6240\u6709\u7684\u547d\u4ee4\u540e\u9762\u52a0 --help \u6216\u8005\u524d\u9762\u52a0 man \uff0c\u90fd\u53ef\u4ee5\u770b\u5230\u7528\u6cd5\u8bf4\u660e \u7edd\u5bf9\u8def\u5f84\u4e0e\u76f8\u5bf9\u8def\u5f84 \uff1a\u4ee5 / \u5f00\u5934\u7684\u662f\u4ece\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u5f00\u59cb\u627e\uff0c\u53eb\u7edd\u5bf9\u8def\u5f84\uff1b\u6ca1\u6709 / \u7684\u662f\u4ece\u5f53\u524d\u5de5\u4f5c\u8def\u5f84\uff08\u4f1a\u663e\u793a\u5728shell\u7684\u63d0\u793a\u7b26\u4e0a\uff09\u5f00\u59cb\u4ece\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u8d70\u5230\u53e6\u4e00\u4e2a\u76ee\u5f55\uff0c\u53eb\u76f8\u5bf9\u8def\u5f84\uff1b\u76f8\u5bf9\u8def\u5f84\u6709\u4e00\u4e9b\u7279\u6b8a\u7b26\u53f7\uff0c\u5982 ~ \u4ee3\u8868\u5bb6\u76ee\u5f55\uff0c\u5bf9\u4e8e\u666e\u901a\u7528\u6237\u800c\u8a00\u4e00\u822c\u662f /home/\u7528\u6237\u540d \uff0c . \u8868\u793a\u5f53\u524d\u76ee\u5f55\uff0c .. \u8868\u793a\u4e0a\u4e00\u7ea7\u76ee\u5f55 ls \u8def\u5f84 \u663e\u793a\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\uff0c-ltra\u67e5\u770b\u6240\u6709\u6587\u4ef6\u8be6\u60c5 cd \u8def\u52b2 \u8868\u793a\u8fdb\u5165\u6587\u4ef6\u5939 vim \u4f7f\u7528Vim\u7f16\u8f91\u5668\u67e5\u770b\u6587\u4ef6\uff0c\u5173\u4e8evim\u6559\u7a0b\u8bf7\u53c2\u8003 https://www.runoob.com/linux/linux-vim.html top \u8d44\u6e90\u76d1\u89c6\u5668\uff0c\u67e5\u770bCPU\u3001\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u4ee5\u53ca\u8fd0\u884c\u7684\u8fdb\u7a0b ps aux \u67e5\u770b\u6240\u6709\u8fdb\u7a0b\uff0c\u901a\u8fc7\u5728\u540e\u9762\u52a0\u7ba1\u9053\u547d\u4ee4\u53ef\u4ee5\u68c0\u7d22\u7279\u5b9a\u7684\u8fdb\u7a0b\uff0c\u6bd4\u5982 ps aux | grep 9888 \u641c\u7d229888\u53f7\u8fdb\u7a0b\uff0c\u5f53\u7136\u4e86grep\u662f\u5b57\u7b26\u4e32\u641c\u7d22\uff0c\u5982\u679c\u8fdb\u7a0b\u5305\u542b9888\u7684\u5b57\u6837\u4e5f\u4f1a\u663e\u793a\u51fa\u6765 \u5982\u679c\u60f3\u6740\u6389\u4e00\u4e2a\u8fdb\u7a0b ps aux | grep \u7a0b\u5e8f\u540d\u6216\u8fdb\u7a0b\u53f7\u6216\u8005\u4f60\u7684\u7528\u6237\u540d # ps aux \u663e\u793a\u6240\u6709\u8fdb\u7a0b\uff0cgrep\u4ece\u4e2d\u641c\u7d22\u4f60\u8f93\u5165\u7684\u5173\u952e\u5b57 # \u8fd4\u56de\u7684\u7b2c\u4e00\u5217\u662f\u8fdb\u7a0b\u53f7 kill -9 \u8fdb\u7a0b\u53f7 \u540e\u53f0\u8fd0\u884c\u4e00\u4e2a\u7a0b\u5e8f nohup \u547d\u4ee4 >output.log 2>&1 & # >output.log \u8868\u793a\u5c06\u8f93\u51fa\u65e5\u5fd7\u91cd\u5b9a\u5411\u5230output.log # 2>&1 \u8868\u793a\u5c06\u9519\u8bef\u4fe1\u606f\u91cd\u5b9a\u5411\u5230\u8fd9\u4e2a\u65e5\u5fd7\uff0c\u8fd9\u6837\u5982\u679c\u7a0b\u5e8f\u5f02\u5e38\u4e2d\u65ad\u4e86traceback\u4e5f\u4f1a\u8bb0\u5f55\u4e0b\u6765","title":"ssh&Linux\u5e38\u7528\u64cd\u4f5c"},{"location":"admin/sshlinux/#sshlinux","text":"\u6bcf\u4e2aJupyterHub\u8d26\u53f7\u5173\u8054\u4e86\u4e00\u4e2a\u670d\u52a1\u5668\u4e0a\u7684Linux\u8d26\u53f7\uff0c\u6240\u4ee5\u4e00\u4e9bJupyterLab\u4e0a\u4e0d\u65b9\u4fbf\u505a\u7684\u64cd\u4f5c\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7SSH\u767b\u9646\u670d\u52a1\u5668\u76f4\u63a5\u5728Linux\u4e0a\u64cd\u4f5c","title":"SSH\u53caLinux\u5e38\u7528\u547d\u4ee4"},{"location":"admin/sshlinux/#ssh","text":"Windows10\u3001Linux\u3001MacOS\u53ef\u4ee5\u76f4\u63a5\u5728cmd/Powershell/Terminal\u4e2d\u8f93\u5165ssh\u547d\u4ee4\u767b\u9646 ssh -p \u7aef\u53e3\u53f7 -i \u5bc6\u94a5\u6587\u4ef6\u8def\u5f84 \u7528\u6237\u540d@10.40.13.202 \u51fa\u4e8e\u5b89\u5168\u8003\u8651\uff0c\u6211\u4eec\u4fee\u6539\u4e86ssh\u7684\u4e00\u4e9b\u914d\u7f6e\uff0c\u7ba1\u7406\u5458\u8bf7\u5355\u72ec\u8054\u7cfb\u8001\u5e08\u6216\u6587\u6863\u7f16\u5199\u8005\u83b7\u53d6\u65b0\u914d\u7f6e\u4e0b\u7684\u767b\u9646\u65b9\u6cd5","title":"SSH"},{"location":"admin/sshlinux/#ssh_1","text":"\u4e24\u79cd\u65b9\u6cd5\uff1a 1. \u81ea\u5df1\u73b0\u6709ssh\u516c\u94a5\u76f4\u63a5\u8ffd\u52a0\u5230 ~/.ssh/authorized_keys \u4e2d 2. \u65b0\u5efa\u670d\u52a1\u5668\u7528\u6237\u7684ssh\u516c\u79c1\u94a5\uff0c\u5c06\u516c\u94a5\u6dfb\u52a0\u5230 authorized_keys \uff0c\u4e0b\u8f7d\u79c1\u94a5\u5230\u4e2a\u4eba\u7535\u8111\u3002 ssh-keygen # \u6309\u63d0\u793a\u8fde\u6309\u4e09\u6b21\u56de\u8f66 cat ~/.ssh/id_rsa.pub >> ~/.ssh/authorized_keys # \u4e0b\u8f7d~/.ssh/id_rsa","title":"SSH\u514d\u5bc6\u767b\u9646\u914d\u7f6e"},{"location":"admin/sshlinux/#ssh-mobaxterm","text":"\u63a8\u8350\u5728windows\u4e0a\u4f7f\u7528\u7684mobaxterm\u800c\u4e0d\u662f\u547d\u4ee4\u884c\uff0c \u5b98\u7f51 \u53ef\u80fd\u4e0b\u8f7d\u6bd4\u8f83\u6162\uff0c\u670d\u52a1\u5668\u4e0a\u4fdd\u5b58\u4e86\u5b89\u88c5\u5305 \u914d\u7f6e\u6b65\u9aa4 1. \u6253\u5f00MobaXterm\uff0c\u70b9\u51fbsession\u6309\u94ae\u65b0\u5efa\u4e00\u4e2a\u4f1a\u8bdd\uff0c\u9009\u62e9ssh \u5982\u56fe\u6240\u793a\u5728\u5bf9\u5e94\u4f4d\u7f6e\u586b\u5165ip\u5730\u5740\u3001\u7528\u6237\u540d\u3001\u7aef\u53e3\u53f7\u548c\u5bc6\u94a5\u6587\u4ef6\u5728\u4f60\u7535\u8111\u4e0a\u7684\u8def\u5f84 \u5b8c\u6210\u914d\u7f6e\uff0c\u8fd9\u4e2a\u4f1a\u8bdd\u4f1a\u51fa\u73b0\u5728\u5de6\u4fa7session\u4fa7\u8fb9\u680f\u4e2d\uff0c\u53cc\u51fb\u5373\u53ef\u6253\u5f00ssh\u8fde\u63a5 \u5982\u9700\u8bbf\u95ee\u56fe\u5f62\u5316\u754c\u9762\uff0c\u5c06\u9f20\u6807\u653e\u7f6e\u4e8eMobaXterm \u53f3\u4e0a\u89d2X\u56fe\u6807 \u4e0a\uff0c\u4f1a\u663e\u793a\u4e00\u4e2axxx.xxx.xxx.xxx:0.0\u7684\u503c\uff0c\u5c06\u5f53\u524dssh\u4f1a\u8bdd\u7684DISPLAY\u73af\u5883\u53d8\u91cf\u4fee\u6539\u4e3a\u4e0e\u8fd9\u4e2a\u503c\u5373\u53ef","title":"SSH\u5ba2\u6237\u7aef MobaXterm"},{"location":"admin/sshlinux/#linux","text":"Linux\u5e38\u7528\u547d\u4ee4\u5927\u5168 \u51e0\u4e4e\u6240\u6709\u7684\u547d\u4ee4\u540e\u9762\u52a0 --help \u6216\u8005\u524d\u9762\u52a0 man \uff0c\u90fd\u53ef\u4ee5\u770b\u5230\u7528\u6cd5\u8bf4\u660e \u7edd\u5bf9\u8def\u5f84\u4e0e\u76f8\u5bf9\u8def\u5f84 \uff1a\u4ee5 / \u5f00\u5934\u7684\u662f\u4ece\u7cfb\u7edf\u7684\u6839\u76ee\u5f55\u5f00\u59cb\u627e\uff0c\u53eb\u7edd\u5bf9\u8def\u5f84\uff1b\u6ca1\u6709 / \u7684\u662f\u4ece\u5f53\u524d\u5de5\u4f5c\u8def\u5f84\uff08\u4f1a\u663e\u793a\u5728shell\u7684\u63d0\u793a\u7b26\u4e0a\uff09\u5f00\u59cb\u4ece\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u8d70\u5230\u53e6\u4e00\u4e2a\u76ee\u5f55\uff0c\u53eb\u76f8\u5bf9\u8def\u5f84\uff1b\u76f8\u5bf9\u8def\u5f84\u6709\u4e00\u4e9b\u7279\u6b8a\u7b26\u53f7\uff0c\u5982 ~ \u4ee3\u8868\u5bb6\u76ee\u5f55\uff0c\u5bf9\u4e8e\u666e\u901a\u7528\u6237\u800c\u8a00\u4e00\u822c\u662f /home/\u7528\u6237\u540d \uff0c . \u8868\u793a\u5f53\u524d\u76ee\u5f55\uff0c .. \u8868\u793a\u4e0a\u4e00\u7ea7\u76ee\u5f55 ls \u8def\u5f84 \u663e\u793a\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\uff0c-ltra\u67e5\u770b\u6240\u6709\u6587\u4ef6\u8be6\u60c5 cd \u8def\u52b2 \u8868\u793a\u8fdb\u5165\u6587\u4ef6\u5939 vim \u4f7f\u7528Vim\u7f16\u8f91\u5668\u67e5\u770b\u6587\u4ef6\uff0c\u5173\u4e8evim\u6559\u7a0b\u8bf7\u53c2\u8003 https://www.runoob.com/linux/linux-vim.html top \u8d44\u6e90\u76d1\u89c6\u5668\uff0c\u67e5\u770bCPU\u3001\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u4ee5\u53ca\u8fd0\u884c\u7684\u8fdb\u7a0b ps aux \u67e5\u770b\u6240\u6709\u8fdb\u7a0b\uff0c\u901a\u8fc7\u5728\u540e\u9762\u52a0\u7ba1\u9053\u547d\u4ee4\u53ef\u4ee5\u68c0\u7d22\u7279\u5b9a\u7684\u8fdb\u7a0b\uff0c\u6bd4\u5982 ps aux | grep 9888 \u641c\u7d229888\u53f7\u8fdb\u7a0b\uff0c\u5f53\u7136\u4e86grep\u662f\u5b57\u7b26\u4e32\u641c\u7d22\uff0c\u5982\u679c\u8fdb\u7a0b\u5305\u542b9888\u7684\u5b57\u6837\u4e5f\u4f1a\u663e\u793a\u51fa\u6765 \u5982\u679c\u60f3\u6740\u6389\u4e00\u4e2a\u8fdb\u7a0b ps aux | grep \u7a0b\u5e8f\u540d\u6216\u8fdb\u7a0b\u53f7\u6216\u8005\u4f60\u7684\u7528\u6237\u540d # ps aux \u663e\u793a\u6240\u6709\u8fdb\u7a0b\uff0cgrep\u4ece\u4e2d\u641c\u7d22\u4f60\u8f93\u5165\u7684\u5173\u952e\u5b57 # \u8fd4\u56de\u7684\u7b2c\u4e00\u5217\u662f\u8fdb\u7a0b\u53f7 kill -9 \u8fdb\u7a0b\u53f7 \u540e\u53f0\u8fd0\u884c\u4e00\u4e2a\u7a0b\u5e8f nohup \u547d\u4ee4 >output.log 2>&1 & # >output.log \u8868\u793a\u5c06\u8f93\u51fa\u65e5\u5fd7\u91cd\u5b9a\u5411\u5230output.log # 2>&1 \u8868\u793a\u5c06\u9519\u8bef\u4fe1\u606f\u91cd\u5b9a\u5411\u5230\u8fd9\u4e2a\u65e5\u5fd7\uff0c\u8fd9\u6837\u5982\u679c\u7a0b\u5e8f\u5f02\u5e38\u4e2d\u65ad\u4e86traceback\u4e5f\u4f1a\u8bb0\u5f55\u4e0b\u6765","title":"Linux\u5e38\u7528\u547d\u4ee4"},{"location":"archive/archive/","text":"\u5f52\u6863\u8bf4\u660e \u8fd9\u4e2a\u5b50\u76ee\u5f55\u4e0b\u7684\u9875\u9762\u5747\u4e3a\u6765\u81ea\u8001\u670d\u52a1\u5668\u7684\u4f7f\u7528\u8bf4\u660e\uff0c\u5df2\u4e0d\u9002\u7528\u4e8e\u65b0\u670d\u52a1\u5668\u3002","title":"\u5f52\u6863\u8bf4\u660e"},{"location":"archive/archive/#_1","text":"\u8fd9\u4e2a\u5b50\u76ee\u5f55\u4e0b\u7684\u9875\u9762\u5747\u4e3a\u6765\u81ea\u8001\u670d\u52a1\u5668\u7684\u4f7f\u7528\u8bf4\u660e\uff0c\u5df2\u4e0d\u9002\u7528\u4e8e\u65b0\u670d\u52a1\u5668\u3002","title":"\u5f52\u6863\u8bf4\u660e"},{"location":"archive/hdfs/","text":"HDFS\u4f7f\u7528\u8bf4\u660e Spark\u8bfb\u53d6\u6587\u4ef6 Spark\u8bfb\u53d6\u548c\u5b58\u50a8\u6587\u4ef6\u65f6\u8f93\u5165\u7684\u6587\u4ef6\u8def\u5f84\u5b9e\u9645\u4e0a\u662f\u6587\u4ef6\u5bf9\u5e94\u7684URI\uff0c\u6240\u4ee5\u76f4\u63a5\u8f93\u5165\u6587\u4ef6\u8def\u5f84\u8bfb\u6570\u636e\u96c6\u6709\u65f6\u5019\u4f1a\u9047\u5230\u7c7b\u4f3c\"file not found\"\u62a5\u9519\uff0c\u8fd9\u662f\u56e0\u4e3a\u76ee\u524d\u670d\u52a1\u5668\u542f\u52a8\u4e86HDFS\uff08Hadoop Distributed File System\uff09\uff0c\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c Spark\u5bf9\u4e8e\u672a\u58f0\u660e\u534f\u8bae\u5934\u7684URI\u4f1a\u4f18\u5148\u5728HDFS\u4e2d\u5bfb\u627e \u3002 Spark\u8bfb\u53d6\u672c\u5730\u6587\u4ef6 \u56e0\u6b64\u5bf9\u4e8e \u672c\u5730\u6587\u4ef6\uff0c\u9700\u8981\u5728\u8def\u5f84\u524d\u52a0\u5165 file:// \u534f\u8bae\u5934 \u6765\u5411spark\u8bf4\u660e\u8fd9\u662f\u4e00\u4e2a\u672c\u5730\u6587\u4ef6\uff0c\u6bd4\u5982\u8bfb\u53d6\u7528\u6237 lzh \u7684\u5bb6\u76ee\u5f55 /home/lzh \u4e0b\u7684 WineData.csv \u6570\u636e\u96c6\uff1a df = spark.read.format('com.databricks.spark.csv') \\ .options(header='true', inferschema='true') \\ .load(\"file:///home/lzh/WineData.csv\",header=True) \u6ce8\u610f\"/\"\u7684\u4e2a\u6570\uff0c\u5e76\u4e14\u8fd9\u91cc\u5fc5\u987b\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528 pwd \u547d\u4ee4\u67e5\u770b\u3002 Spark\u81ea\u5e26\u7684\u6570\u636e\u96c6\u7684\u672c\u5730\u6587\u4ef6\u5728 /usr/local/spark/data \u4e2d\u3002 Spark\u8bfb\u53d6HDFS\u6587\u4ef6 \u867d\u7136\u4f60\u5b8c\u5168\u53ef\u4ee5\u4e00\u76f4\u4f7f\u7528\u672c\u5730\u6587\u4ef6\u4f5c\u4e3a\u8f93\u5165\u8f93\u51fa\uff0c\u4f46\u662f\u6bd5\u7adf\u6211\u4eec\u5b66\u7684\u662f\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\uff0cHDFS\u662f\u5206\u5e03\u5f0f\u5b58\u50a8\u4e2d\u975e\u5e38\u5e38\u7528\u7684\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u6240\u4ee5\u975e\u5e38\u5efa\u8bae\u540c\u5b66\u4eec\u5c1d\u8bd5\u7528Spark\u8bfb\u5165HDFS\u6570\u636e\u96c6\uff0c\u5e76\u7ec3\u4e60\u4f7f\u7528HDFS\uff0c\u8fd9\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981\u628aURI\u7684\u534f\u8bae\u5934\u6539\u6210 hdfs:// \u5373\u53ef\uff0c\u5982\u4e0b\u8bfb\u53d6hdfs\u7684 /Data \u76ee\u5f55\u4e0b\u7684WineData.csv\uff1a df = spark.read.format('com.databricks.spark.csv') \\ .options(header='true', inferschema='true') \\ .load(\"hdfs:///Data/WineData.csv\",header=True) HDFS\u662f\u4ec0\u4e48 HDFS\uff08Hadoop Distributed File System\uff09\uff0c\u4f5c\u4e3aGoogle File System\uff08GFS\uff09\u7684\u5b9e\u73b0\uff0c\u662fHadoop\u9879\u76ee\u7684\u6838\u5fc3\u5b50\u9879\u76ee\uff0c\u662f\u5206\u5e03\u5f0f\u8ba1\u7b97\u4e2d\u6570\u636e\u5b58\u50a8\u7ba1\u7406\u7684\u57fa\u7840\uff0c\u662f\u57fa\u4e8e\u6d41\u6570\u636e\u6a21\u5f0f\u8bbf\u95ee\u548c\u5904\u7406\u8d85\u5927\u6587\u4ef6\u7684\u9700\u6c42\u800c\u5f00\u53d1\u7684\uff0c\u53ef\u4ee5\u8fd0\u884c\u4e8e\u5ec9\u4ef7\u7684\u5546\u7528\u670d\u52a1\u5668\u4e0a\u3002\u5b83\u6240\u5177\u6709\u7684\u9ad8\u5bb9\u9519\u3001\u9ad8\u53ef\u9760\u6027\u3001\u9ad8\u53ef\u6269\u5c55\u6027\u3001\u9ad8\u83b7\u5f97\u6027\u3001\u9ad8\u541e\u5410\u7387\u7b49\u7279\u5f81\u4e3a\u6d77\u91cf\u6570\u636e\u63d0\u4f9b\u4e86\u4e0d\u6015\u6545\u969c\u7684\u5b58\u50a8\uff0c\u4e3a\u8d85\u5927\u6570\u636e\u96c6\uff08Large Data Set\uff09\u7684\u5e94\u7528\u5904\u7406\u5e26\u6765\u4e86\u5f88\u591a\u4fbf\u5229\u3002\uff08\u6765\u6e90\uff1ahttps://www.jianshu.com/p/f1e785fffd4d\uff09 \u603b\u7684\u6765\u8bf4\uff0c\u5c31\u662f\u4e13\u95e8\u4e3a\u5206\u5e03\u5f0f\u7cfb\u7edf\u8bbe\u8ba1\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u662f\u8fd0\u884c\u5728Hadoop\u4e0a\u7684\u3002\u4f60\u53ef\u80fd\u53c8\u4f1a\u95ee\uff1aHadoop\u662f\u4ec0\u4e48\uff1f\u8fd9\u91cc\u6211\u4eec\u4e0d\u505a\u66f4\u591a\u8d58\u8ff0\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u57fa\u7840\u6846\u67b6\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edfHDFS\uff0c\u8fdb\u7a0b\u8c03\u5ea6\u7ba1\u7406Yarn\uff0c\u53ef\u4ee5\u4f5c\u4e3aSpark\u7684\u5e95\u5c42\u8fd0\u884c\u73af\u5883\u4e4b\u4e00\uff08\u5982\u679c\u4f60\u5c1d\u8bd5\u81ea\u5df1\u5b89\u88c5Spark\u5c31\u4f1a\u53d1\u73b0\u5728\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5\u5305\u65f6\u4f1a\u63d0\u793a\u4f60\u9009\u62e9hadoop\u7684\u7248\u672c\uff09\u3002 HDFS\u5165\u95e8 \u7528\u4e8eHDFS\u662f\u5355\u72ec\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u6240\u4ee5\u91cc\u9762\u6709\u4ec0\u4e48\u6587\u4ef6\u5728JupyterHub\u6ca1\u6cd5\u76f4\u63a5\u5c55\u793a\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u6216\u8005HDFS\u7684web\u754c\u9762\u67e5\u770b\uff0c\u8fd9\u6837\u624d\u77e5\u9053\u6570\u636e\u96c6\u5728\u54ea\u513f\u600e\u4e48\u8bfb\u3002 \u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff1awebUI \u8bbf\u95eehttp://10.40.13.202:50070/\u5373\u53ef\u8bbf\u95eehdfs\u7684\u7ba1\u7406\u8282\u70b9\uff08namenode\uff09\uff0c\u9009\u62e9Utilities\u4e2d\u7684Browse the file system\u5373\u53ef\u67e5\u770b \u4f7f\u7528hdfs dfs\u547d\u4ee4 web\u754c\u9762\u867d\u7136\u76f4\u89c2\uff0c\u4f46\u5728\u505a\u6279\u91cf\u6587\u4ef6\u64cd\u4f5c\u65f6\u975e\u5e38\u4e0d\u65b9\u4fbf\uff0c\u6240\u4ee5\u5efa\u8bae\u5728JupyterHub\u7684Terminal\u4e2d\u4f7f\u7528 hdfs dfs \u7cfb\u5217\u547d\u4ee4\u8bbf\u95ee\u3002\u4f5c\u4e3a\u521d\u5b66\u8005\uff0c\u6211\u4eec\u5148\u4e86\u89e3hdfs\u7684\u589e\u5220\u6539\u67e5\u5c31\u591f\u4e86\u3002 HDFS \u547d\u4ee4\u884c\u7684\u7edf\u4e00\u683c\u5f0f\u5982\u4e0b\u3002 hdfs dfs -cmd <args> \u5176\u4e2d\uff0ccmd\u662f\u5177\u4f53\u7684\u6587\u4ef6\u64cd\u4f5c\u547d\u4ee4\uff0c \u662f\u4e00\u7ec4\u6570\u76ee\u53ef\u53d8\u7684\u53c2\u6570\u3002 \u6dfb\u52a0\u548c\u67e5\u770b\u76ee\u5f55 \u521b\u5efa\u6587\u4ef6\u5939 hdfs dfs -mkdir -p /usr/root \u67e5\u770b\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6(-ls\u540e\u6dfb\u52a0-R\u9009\u9879\u53ef\u4ee5\u9012\u5f52\u67e5\u770b) hdfs dfs -ls / \u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e0eHDFS\u7684\u6570\u636e\u4f20\u8f93 \u4f7f\u7528-copyFromlocal\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230 HDFS\u3002 hdfs dfs -copyFromLocal \u672c\u5730\u6587\u4ef6\u8def\u5f84 HDFS\u6587\u4ef6\u8def\u5f84 \u4e0b\u8f7d\u6587\u4ef6\u662f\u6307\u4ece HDFS \u4e2d\u83b7\u53d6\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528hdfs dfs -copyToLocal\u547d\u4ee4\u3002 hdfs dfs -copyToLocal HDFS\u6587\u4ef6\u8def\u5f84 \u672c\u5730\u6587\u4ef6\u8def\u5f84 \u5220\u9664\u6587\u4ef6\u548c\u76ee\u5f55 \u5220\u9664\u67d0\u4e2a\u6587\u4ef6 hdfs dfs -rm README.txt \u5220\u9664\u76ee\u5f55\u4e2d\u6240\u6709\u6587\u4ef6 hdfs dfs -rm -r dir \u68c0\u7d22\u6587\u4ef6 \u4f7f\u7528cat\u547d\u4ee4 hdfs dfs -cat README.txt tail\u547d\u4ee4\u53ef\u4ee5\u53ea\u663e\u793a\u6587\u4ef6\u7684\u672b\u5c3e hdfs dfs -tail README.txt \u67e5\u9605\u5e2e\u52a9 \u67e5\u9605HDFS\u547d\u4ee4\u5e2e\u52a9\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u4e86\u89e3\u548c\u4f7f\u7528HDFS\u7684\u547d\u4ee4\u3002\u7528\u6237\u53ef\u4ee5\u6267\u884chdfs dfs\u6765\u83b7\u53d6\u6240\u7528\u7248\u672cHDFS\u7684\u4e00\u4e2a\u5b8c\u6574\u547d\u4ee4\u7c7b\u522b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528help\u6765\u663e\u793a\u67d0\u4e2a\u5177\u4f53\u547d\u4ee4\u7684\u7528\u6cd5\u53ca\u7b80\u77ed\u63cf\u8ff0\u3002\u4f8b\u5982\uff0c\u8981\u4e86\u89e3ls\u547d\u4ee4\uff0c\u53ef\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002 hdfs dfs -help ls \u4fee\u6539\u6587\u4ef6 \u770b\u5230\u8fd9\u91cc\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\uff0c\u4e3a\u4ec0\u4e48\u6ca1\u6709\u6587\u4ef6\u7684\u4fee\u6539\u547d\u4ee4\uff1f\u56e0\u4e3aHDFS\u4e3a\u8003\u8651\u7cfb\u7edf\u7684\u53ef\u9760\u6027\u548c\u5927\u6570\u636e\u201c\u4e00\u6b21\u5199\uff0c\u5927\u91cf\u8bfb\u201d\u7684\u573a\u666f\uff0c \u4e0d\u652f\u6301\u6587\u4ef6\u7684\u4fee\u6539\u64cd\u4f5c \uff0c\u6587\u4ef6\u4e00\u65e6\u4e0a\u4f20\u5219\u662f\u53ea\u8bfb\u7684\uff0c \u5982\u679c\u60f3\u4fee\u6539\u5b83\uff0c\u5fc5\u987b\u5220\u9664\u4e4b\u540e\u521b\u5efa\u65b0\u7684\u6587\u4ef6 \u3002 \u53c2\u8003\u6587\u732e \u5982\u679c\u76f8\u5bf9HDFS\u548chadoop\u6709\u66f4\u591a\u4e86\u89e3\uff0c\u5efa\u8bae\u540c\u5b66\u4eec\u9605\u8bfb\u5982\u4e0b\u94fe\u63a5 https://hadoop.apache.org/docs/r1.2.1/hdfs_design.html https://www.w3cschool.cn/hadoop/ HDFS\u547d\u4ee4\u5927\u5168https://blog.csdn.net/m0_38003171/article/details/79086780","title":"HDFS"},{"location":"archive/hdfs/#hdfs","text":"","title":"HDFS\u4f7f\u7528\u8bf4\u660e"},{"location":"archive/hdfs/#spark","text":"Spark\u8bfb\u53d6\u548c\u5b58\u50a8\u6587\u4ef6\u65f6\u8f93\u5165\u7684\u6587\u4ef6\u8def\u5f84\u5b9e\u9645\u4e0a\u662f\u6587\u4ef6\u5bf9\u5e94\u7684URI\uff0c\u6240\u4ee5\u76f4\u63a5\u8f93\u5165\u6587\u4ef6\u8def\u5f84\u8bfb\u6570\u636e\u96c6\u6709\u65f6\u5019\u4f1a\u9047\u5230\u7c7b\u4f3c\"file not found\"\u62a5\u9519\uff0c\u8fd9\u662f\u56e0\u4e3a\u76ee\u524d\u670d\u52a1\u5668\u542f\u52a8\u4e86HDFS\uff08Hadoop Distributed File System\uff09\uff0c\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c Spark\u5bf9\u4e8e\u672a\u58f0\u660e\u534f\u8bae\u5934\u7684URI\u4f1a\u4f18\u5148\u5728HDFS\u4e2d\u5bfb\u627e \u3002","title":"Spark\u8bfb\u53d6\u6587\u4ef6"},{"location":"archive/hdfs/#spark_1","text":"\u56e0\u6b64\u5bf9\u4e8e \u672c\u5730\u6587\u4ef6\uff0c\u9700\u8981\u5728\u8def\u5f84\u524d\u52a0\u5165 file:// \u534f\u8bae\u5934 \u6765\u5411spark\u8bf4\u660e\u8fd9\u662f\u4e00\u4e2a\u672c\u5730\u6587\u4ef6\uff0c\u6bd4\u5982\u8bfb\u53d6\u7528\u6237 lzh \u7684\u5bb6\u76ee\u5f55 /home/lzh \u4e0b\u7684 WineData.csv \u6570\u636e\u96c6\uff1a df = spark.read.format('com.databricks.spark.csv') \\ .options(header='true', inferschema='true') \\ .load(\"file:///home/lzh/WineData.csv\",header=True) \u6ce8\u610f\"/\"\u7684\u4e2a\u6570\uff0c\u5e76\u4e14\u8fd9\u91cc\u5fc5\u987b\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528 pwd \u547d\u4ee4\u67e5\u770b\u3002 Spark\u81ea\u5e26\u7684\u6570\u636e\u96c6\u7684\u672c\u5730\u6587\u4ef6\u5728 /usr/local/spark/data \u4e2d\u3002","title":"Spark\u8bfb\u53d6\u672c\u5730\u6587\u4ef6"},{"location":"archive/hdfs/#sparkhdfs","text":"\u867d\u7136\u4f60\u5b8c\u5168\u53ef\u4ee5\u4e00\u76f4\u4f7f\u7528\u672c\u5730\u6587\u4ef6\u4f5c\u4e3a\u8f93\u5165\u8f93\u51fa\uff0c\u4f46\u662f\u6bd5\u7adf\u6211\u4eec\u5b66\u7684\u662f\u5206\u5e03\u5f0f\u5b58\u50a8\u4e0e\u8ba1\u7b97\uff0cHDFS\u662f\u5206\u5e03\u5f0f\u5b58\u50a8\u4e2d\u975e\u5e38\u5e38\u7528\u7684\u4e00\u4e2a\u6587\u4ef6\u7cfb\u7edf\uff0c\u6240\u4ee5\u975e\u5e38\u5efa\u8bae\u540c\u5b66\u4eec\u5c1d\u8bd5\u7528Spark\u8bfb\u5165HDFS\u6570\u636e\u96c6\uff0c\u5e76\u7ec3\u4e60\u4f7f\u7528HDFS\uff0c\u8fd9\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u53ea\u9700\u8981\u628aURI\u7684\u534f\u8bae\u5934\u6539\u6210 hdfs:// \u5373\u53ef\uff0c\u5982\u4e0b\u8bfb\u53d6hdfs\u7684 /Data \u76ee\u5f55\u4e0b\u7684WineData.csv\uff1a df = spark.read.format('com.databricks.spark.csv') \\ .options(header='true', inferschema='true') \\ .load(\"hdfs:///Data/WineData.csv\",header=True)","title":"Spark\u8bfb\u53d6HDFS\u6587\u4ef6"},{"location":"archive/hdfs/#hdfs_1","text":"HDFS\uff08Hadoop Distributed File System\uff09\uff0c\u4f5c\u4e3aGoogle File System\uff08GFS\uff09\u7684\u5b9e\u73b0\uff0c\u662fHadoop\u9879\u76ee\u7684\u6838\u5fc3\u5b50\u9879\u76ee\uff0c\u662f\u5206\u5e03\u5f0f\u8ba1\u7b97\u4e2d\u6570\u636e\u5b58\u50a8\u7ba1\u7406\u7684\u57fa\u7840\uff0c\u662f\u57fa\u4e8e\u6d41\u6570\u636e\u6a21\u5f0f\u8bbf\u95ee\u548c\u5904\u7406\u8d85\u5927\u6587\u4ef6\u7684\u9700\u6c42\u800c\u5f00\u53d1\u7684\uff0c\u53ef\u4ee5\u8fd0\u884c\u4e8e\u5ec9\u4ef7\u7684\u5546\u7528\u670d\u52a1\u5668\u4e0a\u3002\u5b83\u6240\u5177\u6709\u7684\u9ad8\u5bb9\u9519\u3001\u9ad8\u53ef\u9760\u6027\u3001\u9ad8\u53ef\u6269\u5c55\u6027\u3001\u9ad8\u83b7\u5f97\u6027\u3001\u9ad8\u541e\u5410\u7387\u7b49\u7279\u5f81\u4e3a\u6d77\u91cf\u6570\u636e\u63d0\u4f9b\u4e86\u4e0d\u6015\u6545\u969c\u7684\u5b58\u50a8\uff0c\u4e3a\u8d85\u5927\u6570\u636e\u96c6\uff08Large Data Set\uff09\u7684\u5e94\u7528\u5904\u7406\u5e26\u6765\u4e86\u5f88\u591a\u4fbf\u5229\u3002\uff08\u6765\u6e90\uff1ahttps://www.jianshu.com/p/f1e785fffd4d\uff09 \u603b\u7684\u6765\u8bf4\uff0c\u5c31\u662f\u4e13\u95e8\u4e3a\u5206\u5e03\u5f0f\u7cfb\u7edf\u8bbe\u8ba1\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u662f\u8fd0\u884c\u5728Hadoop\u4e0a\u7684\u3002\u4f60\u53ef\u80fd\u53c8\u4f1a\u95ee\uff1aHadoop\u662f\u4ec0\u4e48\uff1f\u8fd9\u91cc\u6211\u4eec\u4e0d\u505a\u66f4\u591a\u8d58\u8ff0\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u5206\u5e03\u5f0f\u7cfb\u7edf\u7684\u57fa\u7840\u6846\u67b6\uff0c\u5305\u62ec\u6587\u4ef6\u7cfb\u7edfHDFS\uff0c\u8fdb\u7a0b\u8c03\u5ea6\u7ba1\u7406Yarn\uff0c\u53ef\u4ee5\u4f5c\u4e3aSpark\u7684\u5e95\u5c42\u8fd0\u884c\u73af\u5883\u4e4b\u4e00\uff08\u5982\u679c\u4f60\u5c1d\u8bd5\u81ea\u5df1\u5b89\u88c5Spark\u5c31\u4f1a\u53d1\u73b0\u5728\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5\u5305\u65f6\u4f1a\u63d0\u793a\u4f60\u9009\u62e9hadoop\u7684\u7248\u672c\uff09\u3002","title":"HDFS\u662f\u4ec0\u4e48"},{"location":"archive/hdfs/#hdfs_2","text":"\u7528\u4e8eHDFS\u662f\u5355\u72ec\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u6240\u4ee5\u91cc\u9762\u6709\u4ec0\u4e48\u6587\u4ef6\u5728JupyterHub\u6ca1\u6cd5\u76f4\u63a5\u5c55\u793a\uff0c\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u6216\u8005HDFS\u7684web\u754c\u9762\u67e5\u770b\uff0c\u8fd9\u6837\u624d\u77e5\u9053\u6570\u636e\u96c6\u5728\u54ea\u513f\u600e\u4e48\u8bfb\u3002","title":"HDFS\u5165\u95e8"},{"location":"archive/hdfs/#webui","text":"\u8bbf\u95eehttp://10.40.13.202:50070/\u5373\u53ef\u8bbf\u95eehdfs\u7684\u7ba1\u7406\u8282\u70b9\uff08namenode\uff09\uff0c\u9009\u62e9Utilities\u4e2d\u7684Browse the file system\u5373\u53ef\u67e5\u770b","title":"\u6700\u7b80\u5355\u7684\u65b9\u5f0f\uff1awebUI"},{"location":"archive/hdfs/#hdfs-dfs","text":"web\u754c\u9762\u867d\u7136\u76f4\u89c2\uff0c\u4f46\u5728\u505a\u6279\u91cf\u6587\u4ef6\u64cd\u4f5c\u65f6\u975e\u5e38\u4e0d\u65b9\u4fbf\uff0c\u6240\u4ee5\u5efa\u8bae\u5728JupyterHub\u7684Terminal\u4e2d\u4f7f\u7528 hdfs dfs \u7cfb\u5217\u547d\u4ee4\u8bbf\u95ee\u3002\u4f5c\u4e3a\u521d\u5b66\u8005\uff0c\u6211\u4eec\u5148\u4e86\u89e3hdfs\u7684\u589e\u5220\u6539\u67e5\u5c31\u591f\u4e86\u3002 HDFS \u547d\u4ee4\u884c\u7684\u7edf\u4e00\u683c\u5f0f\u5982\u4e0b\u3002 hdfs dfs -cmd <args> \u5176\u4e2d\uff0ccmd\u662f\u5177\u4f53\u7684\u6587\u4ef6\u64cd\u4f5c\u547d\u4ee4\uff0c \u662f\u4e00\u7ec4\u6570\u76ee\u53ef\u53d8\u7684\u53c2\u6570\u3002","title":"\u4f7f\u7528hdfs dfs\u547d\u4ee4"},{"location":"archive/hdfs/#_1","text":"\u521b\u5efa\u6587\u4ef6\u5939 hdfs dfs -mkdir -p /usr/root \u67e5\u770b\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6(-ls\u540e\u6dfb\u52a0-R\u9009\u9879\u53ef\u4ee5\u9012\u5f52\u67e5\u770b) hdfs dfs -ls /","title":"\u6dfb\u52a0\u548c\u67e5\u770b\u76ee\u5f55"},{"location":"archive/hdfs/#hdfs_3","text":"\u4f7f\u7528-copyFromlocal\u5c06\u672c\u5730\u6587\u4ef6\u4e0a\u4f20\u5230 HDFS\u3002 hdfs dfs -copyFromLocal \u672c\u5730\u6587\u4ef6\u8def\u5f84 HDFS\u6587\u4ef6\u8def\u5f84 \u4e0b\u8f7d\u6587\u4ef6\u662f\u6307\u4ece HDFS \u4e2d\u83b7\u53d6\u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528hdfs dfs -copyToLocal\u547d\u4ee4\u3002 hdfs dfs -copyToLocal HDFS\u6587\u4ef6\u8def\u5f84 \u672c\u5730\u6587\u4ef6\u8def\u5f84","title":"\u672c\u5730\u6587\u4ef6\u7cfb\u7edf\u4e0eHDFS\u7684\u6570\u636e\u4f20\u8f93"},{"location":"archive/hdfs/#_2","text":"\u5220\u9664\u67d0\u4e2a\u6587\u4ef6 hdfs dfs -rm README.txt \u5220\u9664\u76ee\u5f55\u4e2d\u6240\u6709\u6587\u4ef6 hdfs dfs -rm -r dir","title":"\u5220\u9664\u6587\u4ef6\u548c\u76ee\u5f55"},{"location":"archive/hdfs/#_3","text":"\u4f7f\u7528cat\u547d\u4ee4 hdfs dfs -cat README.txt tail\u547d\u4ee4\u53ef\u4ee5\u53ea\u663e\u793a\u6587\u4ef6\u7684\u672b\u5c3e hdfs dfs -tail README.txt","title":"\u68c0\u7d22\u6587\u4ef6"},{"location":"archive/hdfs/#_4","text":"\u67e5\u9605HDFS\u547d\u4ee4\u5e2e\u52a9\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u4e86\u89e3\u548c\u4f7f\u7528HDFS\u7684\u547d\u4ee4\u3002\u7528\u6237\u53ef\u4ee5\u6267\u884chdfs dfs\u6765\u83b7\u53d6\u6240\u7528\u7248\u672cHDFS\u7684\u4e00\u4e2a\u5b8c\u6574\u547d\u4ee4\u7c7b\u522b\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528help\u6765\u663e\u793a\u67d0\u4e2a\u5177\u4f53\u547d\u4ee4\u7684\u7528\u6cd5\u53ca\u7b80\u77ed\u63cf\u8ff0\u3002\u4f8b\u5982\uff0c\u8981\u4e86\u89e3ls\u547d\u4ee4\uff0c\u53ef\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u3002 hdfs dfs -help ls","title":"\u67e5\u9605\u5e2e\u52a9"},{"location":"archive/hdfs/#_5","text":"\u770b\u5230\u8fd9\u91cc\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\uff0c\u4e3a\u4ec0\u4e48\u6ca1\u6709\u6587\u4ef6\u7684\u4fee\u6539\u547d\u4ee4\uff1f\u56e0\u4e3aHDFS\u4e3a\u8003\u8651\u7cfb\u7edf\u7684\u53ef\u9760\u6027\u548c\u5927\u6570\u636e\u201c\u4e00\u6b21\u5199\uff0c\u5927\u91cf\u8bfb\u201d\u7684\u573a\u666f\uff0c \u4e0d\u652f\u6301\u6587\u4ef6\u7684\u4fee\u6539\u64cd\u4f5c \uff0c\u6587\u4ef6\u4e00\u65e6\u4e0a\u4f20\u5219\u662f\u53ea\u8bfb\u7684\uff0c \u5982\u679c\u60f3\u4fee\u6539\u5b83\uff0c\u5fc5\u987b\u5220\u9664\u4e4b\u540e\u521b\u5efa\u65b0\u7684\u6587\u4ef6 \u3002","title":"\u4fee\u6539\u6587\u4ef6"},{"location":"archive/hdfs/#_6","text":"\u5982\u679c\u76f8\u5bf9HDFS\u548chadoop\u6709\u66f4\u591a\u4e86\u89e3\uff0c\u5efa\u8bae\u540c\u5b66\u4eec\u9605\u8bfb\u5982\u4e0b\u94fe\u63a5 https://hadoop.apache.org/docs/r1.2.1/hdfs_design.html https://www.w3cschool.cn/hadoop/ HDFS\u547d\u4ee4\u5927\u5168https://blog.csdn.net/m0_38003171/article/details/79086780","title":"\u53c2\u8003\u6587\u732e"},{"location":"archive/misc/","text":"\u6742\u9879 \u81ea\u5b9a\u4e49jupyterhub\u7684html ~~\u4e3a\u4e86\u65b9\u4fbf\u524d\u53f0\u4fee\u6539\u5bc6\u7801\u548c\u6fc0\u6d3b\u7528\u6237\uff0c\u6211\u91cd\u5199\u4e86jupyterhub\u7684html\u6587\u4ef6\uff0c\u5b58\u50a8\u5728 /usr/local/anaconda3/envs/jupyterhub/share/jupyterhub/templates/ \uff0c\u4e3b\u8981\u662f\u4fee\u6539\u4e86 admin.html \u548c home.html \uff0c\u5982\u679c\u5347\u7ea7jupyterhub\u5c06\u4f1a\u8986\u76d6\u8fd9\u4e24\u4e2a\u6587\u4ef6\uff0c\u6240\u4ee5\u5347\u7ea7\u524d\u5e94\u505a\u597d\u5907\u4efd\u3002~~ \u4f7f\u7528sbt\u6253\u5305Scala\u7a0b\u5e8f\u540espark-submit https://spark.apache.org/docs/3.3.0/quick-start.html#self-contained-applications \u76ee\u524dsbt\u867d\u7136\u5b89\u88c5\u4e86\u4f46\u662f\u8bbf\u95ee\u6743\u9650\u6709\u95ee\u9898\u53ef\u80fd\u8fd8\u65e0\u6cd5\u4f7f\u7528\uff0c\u5982\u679c\u6709\u540c\u5b66\u613f\u610f\u5e2e\u5fd9\u914d\u7f6e\u8bf7\u8054\u7cfb\u8001\u5e08\u6216\u7ba1\u7406\u5458\u3002","title":"\u6742\u9879"},{"location":"archive/misc/#_1","text":"","title":"\u6742\u9879"},{"location":"archive/misc/#jupyterhubhtml","text":"~~\u4e3a\u4e86\u65b9\u4fbf\u524d\u53f0\u4fee\u6539\u5bc6\u7801\u548c\u6fc0\u6d3b\u7528\u6237\uff0c\u6211\u91cd\u5199\u4e86jupyterhub\u7684html\u6587\u4ef6\uff0c\u5b58\u50a8\u5728 /usr/local/anaconda3/envs/jupyterhub/share/jupyterhub/templates/ \uff0c\u4e3b\u8981\u662f\u4fee\u6539\u4e86 admin.html \u548c home.html \uff0c\u5982\u679c\u5347\u7ea7jupyterhub\u5c06\u4f1a\u8986\u76d6\u8fd9\u4e24\u4e2a\u6587\u4ef6\uff0c\u6240\u4ee5\u5347\u7ea7\u524d\u5e94\u505a\u597d\u5907\u4efd\u3002~~","title":"\u81ea\u5b9a\u4e49jupyterhub\u7684html"},{"location":"archive/misc/#sbtscalaspark-submit","text":"https://spark.apache.org/docs/3.3.0/quick-start.html#self-contained-applications \u76ee\u524dsbt\u867d\u7136\u5b89\u88c5\u4e86\u4f46\u662f\u8bbf\u95ee\u6743\u9650\u6709\u95ee\u9898\u53ef\u80fd\u8fd8\u65e0\u6cd5\u4f7f\u7528\uff0c\u5982\u679c\u6709\u540c\u5b66\u613f\u610f\u5e2e\u5fd9\u914d\u7f6e\u8bf7\u8054\u7cfb\u8001\u5e08\u6216\u7ba1\u7406\u5458\u3002","title":"\u4f7f\u7528sbt\u6253\u5305Scala\u7a0b\u5e8f\u540espark-submit"},{"location":"dsc/conda/","text":"Python\u548cAnaconda \u670d\u52a1\u5668\u5b89\u88c5\u4e86Anaconda3\uff0c\u7ba1\u7406\u6240\u6709Python\u76f8\u5173\u7684\u73af\u5883\u3002 \u5efa\u8bae\u4e0d\u8981\u7528\u7cfb\u7edf\u81ea\u5e26\u7684Python\uff0c\u5c3d\u53ef\u80fd\u4f7f\u7528conda\u7684jupyterhub\u73af\u5883\u4e0b\u7684Python Anaconda\u4f7f\u7528 conda\u5e94\u8be5\u5728\u6240\u6709\u7528\u6237\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\uff0c\u82e5\u51fa\u73b0 conda\uff1a\u672a\u627e\u5230\u547d\u4ee4 \u4e4b\u7c7b\u7684\u95ee\u9898\uff0c\u8f93\u5165 bash \u6216 source /etc/profile \u5373\u53ef\u89e3\u51b3\u3002 conda\u7ba1\u7406python\u5305\u7684\u539f\u7406\u662f\u521b\u5efa\u865a\u62df\u7684\"conda\u73af\u5883\"\uff0c\u4e0d\u540c\u7684conda\u73af\u5883\u662f\u5f7c\u6b64\u72ec\u7acb\u7684\uff0c\u4f7f\u7528conda\u6216\u8005pip\u5b89\u88c5\u5728\u201cbase\u201d\u73af\u5883\u4e2d\u7684\u5305\uff0c\u5728\u201cmy\u201d\u73af\u5883\u662f\u770b\u4e0d\u5230\u7684\u3002 \u9996\u6b21\u4f7f\u7528conda\u9700\u8981\u521d\u59cb\u5316\uff0c\u8f93\u5165 conda init bash \u7136\u540e\u91cd\u65b0\u767b\u9646\uff0c\u5373\u53ef\u6fc0\u6d3b\u548c\u5207\u6362\u73af\u5883 conda activate \u73af\u5883\u540d # \u6fc0\u6d3b\u6216\u5207\u6362\u73af\u5883\uff0c\u4e0d\u8f93\u73af\u5883\u540d\u9ed8\u8ba4\u8fdb\u5165base conda deacivate \u73af\u5883\u540d # \u9000\u51fa\u73af\u5883 \u5e38\u89c1\u95ee\u9898 \uff1a\u5927\u5bb6\u53ef\u80fd\u4f1a\u9047\u5230\u63d0\u793a\u8bf4conda\u6ca1\u6709init\uff0c\u90a3\u79cd\u60c5\u51b5\u4e00\u822c\u662f\u547d\u4ee4\u884c\u6ca1\u8fdb\u5165bash\u800c\u662f\u5728linux\u6700\u539f\u59cb\u7684sh\uff0c\u6b64\u65f6anaconda\u6839\u672c\u6ca1\u6709\u8f7d\u5165\uff0c\u8f93\u5165bash\u5373\u53ef\u89e3\u51b3\u3002 conda\u73af\u5883 Anaconda\u7528conda\u7ba1\u7406\u591a\u4e2apython\u548c\u5176\u4ed6\u8bed\u8a00\u7684\u73af\u5883\uff0c\u670d\u52a1\u5668\u4e0a\u7684conda\u73af\u5883\u6709base\u548cjupyterhub\u4e24\u4e2a\uff0cbase\u662f\u9ed8\u8ba4\u7684\uff0c\u4f46\u6211\u4eec\u4e3b\u8981\u7684pyspark\u548c\u5176\u4ed6\u5305\u90fd\u5b89\u88c5\u5728jupyterhub\u8fd9\u4e2a\u73af\u5883\u3002\u8bb0\u5f97\u901a\u8fc7conda activate\u5207\u6362\u73af\u5883\uff0c\u4e0d\u7136\u53ef\u80fd\u4f1a\u9047\u5230\u7f3a\u5c11python\u5e93\u7684\u9519\u8bef\u3002 \u901a\u8fc7 conda env list \u53ef\u4ee5\u770b\u5230\u6240\u6709\u7684conda\u73af\u5883\u3002 PySpark\u6240\u5728\u7684conda\u73af\u5883 PySpark\u548c\u4e00\u4e9b\u5e38\u7528\u7684\u79d1\u5b66\u8ba1\u7b97\u5e93\uff08\u5982Pandas/NumPy/SciPy/Scikit-Learn\uff09\u5747\u5728\u540d\u4e3a jupyter \u7684conda\u73af\u5883\uff0c\u5982\u679c\u662fssh\u6216\u8005jupyterlab\u7684\u547d\u4ee4\u884c\u754c\u9762\u4f7f\u7528\uff0c\u9700\u8981\u5148\u5207\u6362conda\u73af\u5883\u3002 \u9ed8\u8ba4\u7684Base\u4e0b\u56e0\u4e3apython\u7248\u672c\u95ee\u9898\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528pyspark\uff01 conda activate jupyter \u521b\u5efa\u81ea\u5df1\u7684conda\u73af\u5883 \u73b0\u6709\u7684\u201cjupyter\u201d\u73af\u5883\u5df2\u7ecf\u5b89\u88c5\u4e86\u8bfe\u7a0b\u9700\u8981\u7684\u6240\u6709\u5305\uff0c \u540c\u5b66\u4eec\u4f7f\u7528\u8fd9\u4e2a\u73af\u5883\u5c31\u591f\u4e86\uff0c\u539f\u5219\u4e0a\u4e0d\u8981\u5b89\u88c5\u81ea\u5df1\u7684conda\u73af\u5883 \u521b\u5efa\u73af\u5883\u4f1a\u5f88\u5360\u7528\u78c1\u76d8 \uff0c\u5982\u679c\u53ea\u662f\u5b89\u88c5\u4e00\u4e24\u4e2a\u5e38\u7528\u5305\uff0c\u8bf7\u8054\u7cfb\u8001\u5e08\u6216\u5e73\u53f0\u7ba1\u7406\u5458\u5b89\u88c5 \u5982\u679c\u786e\u5b9e\u9700\u8981\u81ea\u5df1\u521b\u5efaconda\u73af\u5883\uff0c \u8bf7\u4e00\u5b9a\u8981\u5c06\u5b58\u50a8\u5728\u4e2a\u4eba\u5bb6\u76ee\u5f55\u4e0b(\u4e00\u822c\u662f/data/home/stxxxxxxx\u76ee\u5f55\u4e0b)\uff0c\u4e0d\u8981\u5728\u5bb6\u76ee\u5f55\u4e4b\u5916\u7684\u76ee\u5f55\u5b58\u50a8\uff01 \uff0c\u5982\u679c\u672a\u6765\u670d\u52a1\u5668\u7a7a\u95f4\u4e0d\u8db3\uff0c\u53ef\u80fd\u4f1a\u5220\u9664\u666e\u901a\u7528\u6237\u7684conda\u73af\u5883\u3002 conda create -p \u521b\u5efa\u7684\u73af\u5883\u7684\u5b58\u50a8\u8def\u5f84 python=3.7 # \u9009\u62e9python\u7248\u672c\uff0c\u5982\u679c\u9700\u8981\u8fde\u63a5pyspark\u9700\u8981\u4f7f\u75283.10 conda activate \u521b\u5efa\u73af\u5883\u540d # \u8fdb\u5165\u73af\u5883","title":"Anaconda"},{"location":"dsc/conda/#pythonanaconda","text":"\u670d\u52a1\u5668\u5b89\u88c5\u4e86Anaconda3\uff0c\u7ba1\u7406\u6240\u6709Python\u76f8\u5173\u7684\u73af\u5883\u3002 \u5efa\u8bae\u4e0d\u8981\u7528\u7cfb\u7edf\u81ea\u5e26\u7684Python\uff0c\u5c3d\u53ef\u80fd\u4f7f\u7528conda\u7684jupyterhub\u73af\u5883\u4e0b\u7684Python","title":"Python\u548cAnaconda"},{"location":"dsc/conda/#anaconda","text":"conda\u5e94\u8be5\u5728\u6240\u6709\u7528\u6237\u7684\u73af\u5883\u53d8\u91cf\u4e2d\uff0c\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\uff0c\u82e5\u51fa\u73b0 conda\uff1a\u672a\u627e\u5230\u547d\u4ee4 \u4e4b\u7c7b\u7684\u95ee\u9898\uff0c\u8f93\u5165 bash \u6216 source /etc/profile \u5373\u53ef\u89e3\u51b3\u3002 conda\u7ba1\u7406python\u5305\u7684\u539f\u7406\u662f\u521b\u5efa\u865a\u62df\u7684\"conda\u73af\u5883\"\uff0c\u4e0d\u540c\u7684conda\u73af\u5883\u662f\u5f7c\u6b64\u72ec\u7acb\u7684\uff0c\u4f7f\u7528conda\u6216\u8005pip\u5b89\u88c5\u5728\u201cbase\u201d\u73af\u5883\u4e2d\u7684\u5305\uff0c\u5728\u201cmy\u201d\u73af\u5883\u662f\u770b\u4e0d\u5230\u7684\u3002 \u9996\u6b21\u4f7f\u7528conda\u9700\u8981\u521d\u59cb\u5316\uff0c\u8f93\u5165 conda init bash \u7136\u540e\u91cd\u65b0\u767b\u9646\uff0c\u5373\u53ef\u6fc0\u6d3b\u548c\u5207\u6362\u73af\u5883 conda activate \u73af\u5883\u540d # \u6fc0\u6d3b\u6216\u5207\u6362\u73af\u5883\uff0c\u4e0d\u8f93\u73af\u5883\u540d\u9ed8\u8ba4\u8fdb\u5165base conda deacivate \u73af\u5883\u540d # \u9000\u51fa\u73af\u5883 \u5e38\u89c1\u95ee\u9898 \uff1a\u5927\u5bb6\u53ef\u80fd\u4f1a\u9047\u5230\u63d0\u793a\u8bf4conda\u6ca1\u6709init\uff0c\u90a3\u79cd\u60c5\u51b5\u4e00\u822c\u662f\u547d\u4ee4\u884c\u6ca1\u8fdb\u5165bash\u800c\u662f\u5728linux\u6700\u539f\u59cb\u7684sh\uff0c\u6b64\u65f6anaconda\u6839\u672c\u6ca1\u6709\u8f7d\u5165\uff0c\u8f93\u5165bash\u5373\u53ef\u89e3\u51b3\u3002","title":"Anaconda\u4f7f\u7528"},{"location":"dsc/conda/#conda","text":"Anaconda\u7528conda\u7ba1\u7406\u591a\u4e2apython\u548c\u5176\u4ed6\u8bed\u8a00\u7684\u73af\u5883\uff0c\u670d\u52a1\u5668\u4e0a\u7684conda\u73af\u5883\u6709base\u548cjupyterhub\u4e24\u4e2a\uff0cbase\u662f\u9ed8\u8ba4\u7684\uff0c\u4f46\u6211\u4eec\u4e3b\u8981\u7684pyspark\u548c\u5176\u4ed6\u5305\u90fd\u5b89\u88c5\u5728jupyterhub\u8fd9\u4e2a\u73af\u5883\u3002\u8bb0\u5f97\u901a\u8fc7conda activate\u5207\u6362\u73af\u5883\uff0c\u4e0d\u7136\u53ef\u80fd\u4f1a\u9047\u5230\u7f3a\u5c11python\u5e93\u7684\u9519\u8bef\u3002 \u901a\u8fc7 conda env list \u53ef\u4ee5\u770b\u5230\u6240\u6709\u7684conda\u73af\u5883\u3002","title":"conda\u73af\u5883"},{"location":"dsc/conda/#pysparkconda","text":"PySpark\u548c\u4e00\u4e9b\u5e38\u7528\u7684\u79d1\u5b66\u8ba1\u7b97\u5e93\uff08\u5982Pandas/NumPy/SciPy/Scikit-Learn\uff09\u5747\u5728\u540d\u4e3a jupyter \u7684conda\u73af\u5883\uff0c\u5982\u679c\u662fssh\u6216\u8005jupyterlab\u7684\u547d\u4ee4\u884c\u754c\u9762\u4f7f\u7528\uff0c\u9700\u8981\u5148\u5207\u6362conda\u73af\u5883\u3002 \u9ed8\u8ba4\u7684Base\u4e0b\u56e0\u4e3apython\u7248\u672c\u95ee\u9898\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528pyspark\uff01 conda activate jupyter","title":"PySpark\u6240\u5728\u7684conda\u73af\u5883"},{"location":"dsc/conda/#conda_1","text":"\u73b0\u6709\u7684\u201cjupyter\u201d\u73af\u5883\u5df2\u7ecf\u5b89\u88c5\u4e86\u8bfe\u7a0b\u9700\u8981\u7684\u6240\u6709\u5305\uff0c \u540c\u5b66\u4eec\u4f7f\u7528\u8fd9\u4e2a\u73af\u5883\u5c31\u591f\u4e86\uff0c\u539f\u5219\u4e0a\u4e0d\u8981\u5b89\u88c5\u81ea\u5df1\u7684conda\u73af\u5883 \u521b\u5efa\u73af\u5883\u4f1a\u5f88\u5360\u7528\u78c1\u76d8 \uff0c\u5982\u679c\u53ea\u662f\u5b89\u88c5\u4e00\u4e24\u4e2a\u5e38\u7528\u5305\uff0c\u8bf7\u8054\u7cfb\u8001\u5e08\u6216\u5e73\u53f0\u7ba1\u7406\u5458\u5b89\u88c5 \u5982\u679c\u786e\u5b9e\u9700\u8981\u81ea\u5df1\u521b\u5efaconda\u73af\u5883\uff0c \u8bf7\u4e00\u5b9a\u8981\u5c06\u5b58\u50a8\u5728\u4e2a\u4eba\u5bb6\u76ee\u5f55\u4e0b(\u4e00\u822c\u662f/data/home/stxxxxxxx\u76ee\u5f55\u4e0b)\uff0c\u4e0d\u8981\u5728\u5bb6\u76ee\u5f55\u4e4b\u5916\u7684\u76ee\u5f55\u5b58\u50a8\uff01 \uff0c\u5982\u679c\u672a\u6765\u670d\u52a1\u5668\u7a7a\u95f4\u4e0d\u8db3\uff0c\u53ef\u80fd\u4f1a\u5220\u9664\u666e\u901a\u7528\u6237\u7684conda\u73af\u5883\u3002 conda create -p \u521b\u5efa\u7684\u73af\u5883\u7684\u5b58\u50a8\u8def\u5f84 python=3.7 # \u9009\u62e9python\u7248\u672c\uff0c\u5982\u679c\u9700\u8981\u8fde\u63a5pyspark\u9700\u8981\u4f7f\u75283.10 conda activate \u521b\u5efa\u73af\u5883\u540d # \u8fdb\u5165\u73af\u5883","title":"\u521b\u5efa\u81ea\u5df1\u7684conda\u73af\u5883"},{"location":"dsc/jupyter/","text":"JupyterHub\u4f7f\u7528\u8bf4\u660e \u6211\u4eec\u7684\u4e3b\u8981\u5b9e\u9a8c\u73af\u5883\u4e3aJupyterHub\uff0c\u6bcf\u4f4d\u540c\u5b66\u53ef\u4ee5\u7533\u8bf7\u6ce8\u518c\u5355\u72ec\u7684\u8d26\u53f7\uff0c\u4f7f\u7528\u4e00\u4e2aJupyterLab\uff0c\u7528notebook\u548c\u547d\u4ee4\u884c\u7ec8\u7aef\u5b8c\u6210\u6240\u6709\u5b9e\u9a8c\uff0c\u514d\u53bb\u5927\u5bb6\u81ea\u884c\u5b89\u88c5\u8f6f\u4ef6\u7684\u9ebb\u70e6\u3002 \u94fe\u63a5 10.40.13.202:9500 \uff0c\u53ea\u80fd\u5728\u6821\u56ed\u7f51\u4e0b\u8bbf\u95ee\u3002 \u6ce8\u518c\u548c\u767b\u9646\u8d26\u53f7 \u65b0\u7528\u6237\u7b2c\u4e00\u6b21\u8bbf\u95ee\u8be5\u94fe\u63a5\u4f1a\u8f6c\u5230\u767b\u9646\u754c\u9762\uff0c\u9700\u8981\u70b9\u51fb\u201csignup\u201d\u81ea\u884c\u6ce8\u518c\u8d26\u53f7 \u7528\u6237\u540d\u5fc5\u987b\u4f7f\u7528\"st\"\u52a0\u5b66\u53f7 \uff0c\u5982st1810064\uff0c\u5bc6\u7801\u5fc5\u987b \u5927\u4e8e8\u4f4d \u4e14\u4e0d\u80fd\u4f7f\u7528qwerty\u7b49\u5f31\u5bc6\u7801\uff0c\u4e0d\u80fd\u5305\u542b\u7a7a\u683c\u6216\u5192\u53f7\uff0c\u6ce8\u518c\u6210\u529f\u65f6\u5e94\u8be5\u4f1a\u9047\u5230\u5982\u4e0b\u63d0\u793a \u6b64\u65f6\u7b49\u5f85\u7ba1\u7406\u5458\u5ba1\u6838\u5373\u53ef\uff0c\u5982\u679c\u957f\u65f6\u95f4\u6ca1\u6709\u901a\u8fc7\uff0c\u8bf7\u8054\u7cfb\u8001\u5e08\u548c\u7ba1\u7406\u5458\u3002\u7ba1\u7406\u5458\u901a\u8fc7\u540e\u5373\u53ef\u767b\u9646\u3002\u9996\u6b21\u767b\u9646\u53ef\u80fd\u4f1a\u9047\u5230\u5982\u4e0b\u754c\u9762\u540e\u51fa\u73b0\u957f\u65f6\u95f4\u767d\u5c4f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u4ee5\u540e\u767b\u9646\u4f1a\u5feb\u5f88\u591a\u3002 JupyterLab \u6211\u4eec\u4f7f\u7528\u7684Jupyter\u73af\u5883\u4e3aJupyterLab\uff0c\u6bd4Jupyter Notebook\u529f\u80fd\u66f4\u52a0\u5f3a\u5927\uff0c\u4e3b\u8981\u754c\u9762\u8bf4\u660e\u5982\u4e0b\uff1a \u4f7f\u7528\u7ec8\u7aef \u70b9\u51fb\u5de6\u4e0a\u89d2 + \u53f7\uff0c\u5e76\u6ce8\u610f\u5207\u6362conda\u73af\u5883\u5230jupyterhub conda activate jupyter \u7ba1\u7406JupyterLab\u548c\u5bc6\u7801 \u5982\u9700\u8981\u91cd\u542fJupyterLab\u6216\u4fee\u6539\u81ea\u5df1\u8d26\u53f7\u7684\u5bc6\u7801\uff0c\u4ecejupyterlab\u754c\u9762\u7684\u83dc\u5355\u680f\u70b9\u51fbHub Control Panel\u8bbf\u95ee\u7ba1\u7406\u9762\u7248\uff0c\u91cd\u542f\u8d26\u53f7\u6216\u4fee\u6539\u5bc6\u7801\uff0c\u65b0\u5bc6\u7801\u4ecd\u9700\u6ee1\u8db3\u548c\u6ce8\u518c\u65f6\u4e00\u6837\u7684\u8981\u6c42\u3002 \u6ce8\u610f \uff1a\u8fd9\u91cc\u4fee\u6539\u5bc6\u7801\u4f1a\u540c\u65f6\u4fee\u6539\u5bf9\u5e94Linux\u7528\u6237\u7684\u5bc6\u7801\uff0c\u4f46\u662fssh\u65f6\u4fee\u6539Linux\u7528\u6237\u7684\u5bc6\u7801\uff0cJupyterhub\u4e0a\u7684\u5bc6\u7801\u4f1a\u4fdd\u6301\u4e0d\u53d8\u3002 \u66f4\u52a0\u8be6\u7ec6\u7684\u4e00\u4e9bJupyter\u6559\u7a0b \u5b98\u65b9\u5e2e\u52a9 https://jupyterlab.readthedocs.io/en/latest/ \u4ec5\u4f9b\u53c2\u8003 https://cloud.tencent.com/developer/news/323834 https://zhuanlan.zhihu.com/p/38612108 https://www.cnblogs.com/zhrb/p/12174167.html \u5c06\u81ea\u5df1\u7684conda\u73af\u5883(\u4e0d\u63a8\u8350)\u6dfb\u52a0\u5230jupyterhub \u5982\u679c\u4f60\u521b\u5efa\u4e86\u81ea\u5df1\u7684conda\u73af\u5883\uff08\u867d\u7136\u975e\u5e38\u4e0d\u5efa\u8bae\uff09\uff0c\u8bf7\u4e0d\u8981\u5355\u72ec\u5f00\u542f\u4e2a\u4ebajupyterlab\uff08\u672a\u6765\u53ef\u80fd\u4f1a\u56e0\u4e3a\u670d\u52a1\u5668\u9632\u706b\u5899\u65e0\u6cd5\u8bbf\u95ee\uff0c\u800c\u4e14\u5355\u72ec\u5360\u7528\u670d\u52a1\u5668\u8d44\u6e90\u548c\u7aef\u53e3\u53f7\uff09\uff0c\u5728\u73b0\u6709\u7684jupyterhub\u4e2d\u6ce8\u518c\u4f60\u81ea\u5df1conda\u73af\u5883\u7684kernel\u5373\u53ef 1. \u5b89\u88c5ipykernel conda install -n \u81ea\u5df1\u7684\u73af\u5883\u540d ipykernel \u5982\u679c\u51fa\u73b0http timeout\u6216\u8005 Solving environment: failed with initial frozen solve. Retrying with flexible solve. \u4e4b\u7c7b\u7684\u9519\u8bef\uff0c \u591a\u534a\u662f\u7f51\u7edc\u95ee\u9898\uff0c\u8bf7\u5c06conda\u6e90\u6362\u4e3a\u56fd\u5185\u7684\u955c\u50cf\u7ad9 \uff0c\u5177\u4f53\u65b9\u6cd5\u767e\u5ea6\u201cconda\u6362\u6e90\u201d \u6fc0\u6d3b\u73af\u5883 conda activate jupyterhub \u5c06\u73af\u5883\u5199\u5165Notebook\u7684Kernel\u4e2d python -m ipykernel install --user --name \u81ea\u5df1\u7684\u73af\u5883\u540d --display-name \"\u8981\u663e\u793a\u5728jupyterhub\u4e0a\u7684\u540d\u5b57\" \u6b64\u65f6\u518d\u6253\u5f00jupyterhub\u5e94\u8be5\u4f1a\u51fa\u73b0\u65b0\u7684kernel","title":"JupyterHub"},{"location":"dsc/jupyter/#jupyterhub","text":"\u6211\u4eec\u7684\u4e3b\u8981\u5b9e\u9a8c\u73af\u5883\u4e3aJupyterHub\uff0c\u6bcf\u4f4d\u540c\u5b66\u53ef\u4ee5\u7533\u8bf7\u6ce8\u518c\u5355\u72ec\u7684\u8d26\u53f7\uff0c\u4f7f\u7528\u4e00\u4e2aJupyterLab\uff0c\u7528notebook\u548c\u547d\u4ee4\u884c\u7ec8\u7aef\u5b8c\u6210\u6240\u6709\u5b9e\u9a8c\uff0c\u514d\u53bb\u5927\u5bb6\u81ea\u884c\u5b89\u88c5\u8f6f\u4ef6\u7684\u9ebb\u70e6\u3002 \u94fe\u63a5 10.40.13.202:9500 \uff0c\u53ea\u80fd\u5728\u6821\u56ed\u7f51\u4e0b\u8bbf\u95ee\u3002","title":"JupyterHub\u4f7f\u7528\u8bf4\u660e"},{"location":"dsc/jupyter/#_1","text":"\u65b0\u7528\u6237\u7b2c\u4e00\u6b21\u8bbf\u95ee\u8be5\u94fe\u63a5\u4f1a\u8f6c\u5230\u767b\u9646\u754c\u9762\uff0c\u9700\u8981\u70b9\u51fb\u201csignup\u201d\u81ea\u884c\u6ce8\u518c\u8d26\u53f7 \u7528\u6237\u540d\u5fc5\u987b\u4f7f\u7528\"st\"\u52a0\u5b66\u53f7 \uff0c\u5982st1810064\uff0c\u5bc6\u7801\u5fc5\u987b \u5927\u4e8e8\u4f4d \u4e14\u4e0d\u80fd\u4f7f\u7528qwerty\u7b49\u5f31\u5bc6\u7801\uff0c\u4e0d\u80fd\u5305\u542b\u7a7a\u683c\u6216\u5192\u53f7\uff0c\u6ce8\u518c\u6210\u529f\u65f6\u5e94\u8be5\u4f1a\u9047\u5230\u5982\u4e0b\u63d0\u793a \u6b64\u65f6\u7b49\u5f85\u7ba1\u7406\u5458\u5ba1\u6838\u5373\u53ef\uff0c\u5982\u679c\u957f\u65f6\u95f4\u6ca1\u6709\u901a\u8fc7\uff0c\u8bf7\u8054\u7cfb\u8001\u5e08\u548c\u7ba1\u7406\u5458\u3002\u7ba1\u7406\u5458\u901a\u8fc7\u540e\u5373\u53ef\u767b\u9646\u3002\u9996\u6b21\u767b\u9646\u53ef\u80fd\u4f1a\u9047\u5230\u5982\u4e0b\u754c\u9762\u540e\u51fa\u73b0\u957f\u65f6\u95f4\u767d\u5c4f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u4ee5\u540e\u767b\u9646\u4f1a\u5feb\u5f88\u591a\u3002","title":"\u6ce8\u518c\u548c\u767b\u9646\u8d26\u53f7"},{"location":"dsc/jupyter/#jupyterlab","text":"\u6211\u4eec\u4f7f\u7528\u7684Jupyter\u73af\u5883\u4e3aJupyterLab\uff0c\u6bd4Jupyter Notebook\u529f\u80fd\u66f4\u52a0\u5f3a\u5927\uff0c\u4e3b\u8981\u754c\u9762\u8bf4\u660e\u5982\u4e0b\uff1a","title":"JupyterLab"},{"location":"dsc/jupyter/#_2","text":"\u70b9\u51fb\u5de6\u4e0a\u89d2 + \u53f7\uff0c\u5e76\u6ce8\u610f\u5207\u6362conda\u73af\u5883\u5230jupyterhub conda activate jupyter","title":"\u4f7f\u7528\u7ec8\u7aef"},{"location":"dsc/jupyter/#jupyterlab_1","text":"\u5982\u9700\u8981\u91cd\u542fJupyterLab\u6216\u4fee\u6539\u81ea\u5df1\u8d26\u53f7\u7684\u5bc6\u7801\uff0c\u4ecejupyterlab\u754c\u9762\u7684\u83dc\u5355\u680f\u70b9\u51fbHub Control Panel\u8bbf\u95ee\u7ba1\u7406\u9762\u7248\uff0c\u91cd\u542f\u8d26\u53f7\u6216\u4fee\u6539\u5bc6\u7801\uff0c\u65b0\u5bc6\u7801\u4ecd\u9700\u6ee1\u8db3\u548c\u6ce8\u518c\u65f6\u4e00\u6837\u7684\u8981\u6c42\u3002 \u6ce8\u610f \uff1a\u8fd9\u91cc\u4fee\u6539\u5bc6\u7801\u4f1a\u540c\u65f6\u4fee\u6539\u5bf9\u5e94Linux\u7528\u6237\u7684\u5bc6\u7801\uff0c\u4f46\u662fssh\u65f6\u4fee\u6539Linux\u7528\u6237\u7684\u5bc6\u7801\uff0cJupyterhub\u4e0a\u7684\u5bc6\u7801\u4f1a\u4fdd\u6301\u4e0d\u53d8\u3002","title":"\u7ba1\u7406JupyterLab\u548c\u5bc6\u7801"},{"location":"dsc/jupyter/#jupyter","text":"\u5b98\u65b9\u5e2e\u52a9 https://jupyterlab.readthedocs.io/en/latest/ \u4ec5\u4f9b\u53c2\u8003 https://cloud.tencent.com/developer/news/323834 https://zhuanlan.zhihu.com/p/38612108 https://www.cnblogs.com/zhrb/p/12174167.html","title":"\u66f4\u52a0\u8be6\u7ec6\u7684\u4e00\u4e9bJupyter\u6559\u7a0b"},{"location":"dsc/jupyter/#condajupyterhub","text":"\u5982\u679c\u4f60\u521b\u5efa\u4e86\u81ea\u5df1\u7684conda\u73af\u5883\uff08\u867d\u7136\u975e\u5e38\u4e0d\u5efa\u8bae\uff09\uff0c\u8bf7\u4e0d\u8981\u5355\u72ec\u5f00\u542f\u4e2a\u4ebajupyterlab\uff08\u672a\u6765\u53ef\u80fd\u4f1a\u56e0\u4e3a\u670d\u52a1\u5668\u9632\u706b\u5899\u65e0\u6cd5\u8bbf\u95ee\uff0c\u800c\u4e14\u5355\u72ec\u5360\u7528\u670d\u52a1\u5668\u8d44\u6e90\u548c\u7aef\u53e3\u53f7\uff09\uff0c\u5728\u73b0\u6709\u7684jupyterhub\u4e2d\u6ce8\u518c\u4f60\u81ea\u5df1conda\u73af\u5883\u7684kernel\u5373\u53ef 1. \u5b89\u88c5ipykernel conda install -n \u81ea\u5df1\u7684\u73af\u5883\u540d ipykernel \u5982\u679c\u51fa\u73b0http timeout\u6216\u8005 Solving environment: failed with initial frozen solve. Retrying with flexible solve. \u4e4b\u7c7b\u7684\u9519\u8bef\uff0c \u591a\u534a\u662f\u7f51\u7edc\u95ee\u9898\uff0c\u8bf7\u5c06conda\u6e90\u6362\u4e3a\u56fd\u5185\u7684\u955c\u50cf\u7ad9 \uff0c\u5177\u4f53\u65b9\u6cd5\u767e\u5ea6\u201cconda\u6362\u6e90\u201d \u6fc0\u6d3b\u73af\u5883 conda activate jupyterhub \u5c06\u73af\u5883\u5199\u5165Notebook\u7684Kernel\u4e2d python -m ipykernel install --user --name \u81ea\u5df1\u7684\u73af\u5883\u540d --display-name \"\u8981\u663e\u793a\u5728jupyterhub\u4e0a\u7684\u540d\u5b57\" \u6b64\u65f6\u518d\u6253\u5f00jupyterhub\u5e94\u8be5\u4f1a\u51fa\u73b0\u65b0\u7684kernel","title":"\u5c06\u81ea\u5df1\u7684conda\u73af\u5883(\u4e0d\u63a8\u8350)\u6dfb\u52a0\u5230jupyterhub"},{"location":"dsc/pyspark/","text":"\u5982\u4f55\u5728JupyterHub\u4e0a\u4f7f\u7528PySpark PySpark\u5df2\u7ecf\u5b89\u88c5\u5230jupyterhub\u73af\u5883\u4e2d\uff0c\u542f\u52a8\u4e00\u4e2anotebook\u5373\u53ef\u8bbf\u95ee \u6ce8\u610f \u8bf7\u5728\u4f7f\u7528\u5b8c\u6bd5\u540e\u52a1\u5fc5 1. \u8f93\u5165Ctrl+C\u6216\u8005 quit() \u9000\u51fapyspark\u4ea4\u4e92\u7a0b\u5e8f 2. \u5728jupyterlab\u4fa7\u8fb9\u680f\u4e2d\u7ed3\u675f\u6240\u6709\u8fde\u63a5spark\u7684notebook\u6216console\u8fdb\u7a0b 3. pyspark\u547d\u4ee4\u884c\u548cnotebook\u4e2d\u90fd \u4e0d\u9700\u8981\u521b\u5efa\u65b0\u7684SparkContext 4. \u4e25\u7981\u6307\u5b9a master \u4e3a local[*] Notebook\uff08\u63a8\u8350\uff09 \u4f7f\u7528jupyterhub\uff0c\u521b\u5efa\u4e00\u4e2anotebook\uff0c\u6ce8\u610f\u8981\u4f7f\u7528\u7b2c\u4e8c\u4e2a PySpark \u7684kernel\uff0c\u800c\u4e0d\u662f\u7b2c\u4e00\u4e2a Python3(ipykernel) jupyterhub\u9ed8\u8ba4\u7684python\u73af\u5883\u4e2d\u5df2\u7ecf\u5b89\u88c5\u4e86PySpark\u5e93\uff0c\u65e0\u9700\u4f7f\u7528findspark\uff0c\u901a\u8fc7pyspark\u7684API\u53ef\u4ee5\u81ea\u884c\u521b\u5efaSparkSession\u3002 \u4e3a\u51cf\u5c0f\u670d\u52a1\u5668\u538b\u529b\u8bf7 \u4e0d\u8981\u521b\u5efaSparkContext \uff0c\u4f7f\u7528pyspark.sql\u7684API\u76f4\u63a5\u521b\u5efaSparkSession\uff0c \u5e76\u4e14\u8fde\u63a5\u5230\u672c\u5730\u5df2\u6709\u7684master \uff0c\u800c\u4e0d\u662f\u81ea\u884c\u521b\u5efa\u65b0\u7684local[*]\u3002 \u4e0b\u9762\u7ed9\u51fa\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5927\u5bb6\u5728\u4f7f\u7528\u65f6\u76f4\u63a5\u62f7\u8d1d\u7b2c\u4e00\u4e2a\u5355\u5143\u7684\u90e8\u5206\u5373\u53ef import os # \u8fd9\u90e8\u5206\u662f\u6307\u5b9adriver\u548cexecutor\u7684python\u7248\u672c\uff0c\u5fc5\u987b\u8981\u6709\u4e0d\u7136\u4f1a\u62a5\u9519\uff0c\u4f46\u5728pyspark\u4ea4\u4e92\u5f0f\u6a21\u5f0f\u4e2d\u4e0d\u9700\u8981 os.environ['PYSPARK_PYTHON']='/usr/local/anaconda3/envs/jupyter/bin/python' os.environ['PYSPARK_DRIVER_PYTHON']='/usr/local/anaconda3/envs/jupyter/bin/python' import pyspark # \u521b\u5efaspark session spark = pyspark.sql.SparkSession.builder.master('spark://10.40.13.202:7077').getOrCreate() Setting default log level to \"WARN\". To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel). 22/09/06 04:45:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable df = spark.sparkContext.parallelize( [(1, 2, 3, 'a b c'), (4, 5, 6, 'd e f'),(7, 8, 9, 'g h i')] ).toDF(['col1', 'col2', 'col3','col4']) df.show() +----+----+----+-----+ |col1|col2|col3| col4| +----+----+----+-----+ | 1| 2| 3|a b c| | 4| 5| 6|d e f| | 7| 8| 9|g h i| +----+----+----+-----+ \u547d\u4ee4\u884c\u7ec8\u7aef pyspark\u5df2\u7ecf\u6dfb\u52a0\u5230\u7cfb\u7edf\u8def\u5f84\uff0c\u542f\u52a8\u4e00\u4e2a\u7ec8\u7aef\u5373\u53ef\u8f93\u5165\uff0c\u7531\u4e8e\u670d\u52a1\u5668\u5df2\u6709spark standalone\u5728\u8fd0\u884c\uff0c\u56e0\u6b64\u542f\u52a8\u65f6\u8bf7\u76f4\u63a5\u8fde\u63a5\u5230\u672c\u5730\u7684master\u8282\u70b9\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8f93\u5165 pyspark \u4f1a\u81ea\u52a8\u8fde\u63a5\uff0c\u4e5f\u901a\u8fc7master\u9009\u9879\u76f4\u63a5\u6307\u5b9a pyspark --master spark://10.40.13.202:7077 \u6ce8\u610f1 \uff1a \u4e25\u7981\u6307\u5b9a master \u4e3a local[*] \u6ce8\u610f2 \uff1apyspark\u4e2d\u81ea\u5e26\u4e86 \u540d\u4e3aspark\u7684SparkSession\u548csc\u7684SparkContext \uff0c\u65e0\u9700\u4e5f\u4e0d\u5e94\u8be5\u989d\u5916\u521b\u5efa \u4f7f\u7528Ctrl+D\u6216\u8f93\u5165 exit() \u9000\u51fa spark-submit \u7528spark-submit\u63d0\u4ea4\u4e00\u4e2apython\u6587\u4ef6\u5f62\u6210\u72ec\u7acb\u7684\u4f5c\u4e1a\uff0c\u8bf7\u53c2\u8003 \u5b98\u65b9\u6587\u6863 PySpark\u5165\u95e8 \u6700\u597d\u7684\u65b9\u6cd5\u662f\u4e0a\u8bfe\u542c\u8bb2\u3001\u591a\u52a8\u624b\u5199\u4ee3\u7801\u3001\u51fa\u4e86\u95ee\u9898\u67e5\u5b98\u65b9\u6587\u6863\u3001\u641c\u7d22\u5f15\u64ce\u53caStackOverflow\u7b49\u3002 \u4ee5\u540e\u6709\u5fc5\u8981\u518d\u8865\u5145\u3002","title":"PySpark"},{"location":"dsc/pyspark/#jupyterhubpyspark","text":"PySpark\u5df2\u7ecf\u5b89\u88c5\u5230jupyterhub\u73af\u5883\u4e2d\uff0c\u542f\u52a8\u4e00\u4e2anotebook\u5373\u53ef\u8bbf\u95ee","title":"\u5982\u4f55\u5728JupyterHub\u4e0a\u4f7f\u7528PySpark"},{"location":"dsc/pyspark/#_1","text":"\u8bf7\u5728\u4f7f\u7528\u5b8c\u6bd5\u540e\u52a1\u5fc5 1. \u8f93\u5165Ctrl+C\u6216\u8005 quit() \u9000\u51fapyspark\u4ea4\u4e92\u7a0b\u5e8f 2. \u5728jupyterlab\u4fa7\u8fb9\u680f\u4e2d\u7ed3\u675f\u6240\u6709\u8fde\u63a5spark\u7684notebook\u6216console\u8fdb\u7a0b 3. pyspark\u547d\u4ee4\u884c\u548cnotebook\u4e2d\u90fd \u4e0d\u9700\u8981\u521b\u5efa\u65b0\u7684SparkContext 4. \u4e25\u7981\u6307\u5b9a master \u4e3a local[*]","title":"\u6ce8\u610f"},{"location":"dsc/pyspark/#notebook","text":"\u4f7f\u7528jupyterhub\uff0c\u521b\u5efa\u4e00\u4e2anotebook\uff0c\u6ce8\u610f\u8981\u4f7f\u7528\u7b2c\u4e8c\u4e2a PySpark \u7684kernel\uff0c\u800c\u4e0d\u662f\u7b2c\u4e00\u4e2a Python3(ipykernel) jupyterhub\u9ed8\u8ba4\u7684python\u73af\u5883\u4e2d\u5df2\u7ecf\u5b89\u88c5\u4e86PySpark\u5e93\uff0c\u65e0\u9700\u4f7f\u7528findspark\uff0c\u901a\u8fc7pyspark\u7684API\u53ef\u4ee5\u81ea\u884c\u521b\u5efaSparkSession\u3002 \u4e3a\u51cf\u5c0f\u670d\u52a1\u5668\u538b\u529b\u8bf7 \u4e0d\u8981\u521b\u5efaSparkContext \uff0c\u4f7f\u7528pyspark.sql\u7684API\u76f4\u63a5\u521b\u5efaSparkSession\uff0c \u5e76\u4e14\u8fde\u63a5\u5230\u672c\u5730\u5df2\u6709\u7684master \uff0c\u800c\u4e0d\u662f\u81ea\u884c\u521b\u5efa\u65b0\u7684local[*]\u3002 \u4e0b\u9762\u7ed9\u51fa\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5927\u5bb6\u5728\u4f7f\u7528\u65f6\u76f4\u63a5\u62f7\u8d1d\u7b2c\u4e00\u4e2a\u5355\u5143\u7684\u90e8\u5206\u5373\u53ef import os # \u8fd9\u90e8\u5206\u662f\u6307\u5b9adriver\u548cexecutor\u7684python\u7248\u672c\uff0c\u5fc5\u987b\u8981\u6709\u4e0d\u7136\u4f1a\u62a5\u9519\uff0c\u4f46\u5728pyspark\u4ea4\u4e92\u5f0f\u6a21\u5f0f\u4e2d\u4e0d\u9700\u8981 os.environ['PYSPARK_PYTHON']='/usr/local/anaconda3/envs/jupyter/bin/python' os.environ['PYSPARK_DRIVER_PYTHON']='/usr/local/anaconda3/envs/jupyter/bin/python' import pyspark # \u521b\u5efaspark session spark = pyspark.sql.SparkSession.builder.master('spark://10.40.13.202:7077').getOrCreate() Setting default log level to \"WARN\". To adjust logging level use sc.setLogLevel(newLevel). For SparkR, use setLogLevel(newLevel). 22/09/06 04:45:36 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable df = spark.sparkContext.parallelize( [(1, 2, 3, 'a b c'), (4, 5, 6, 'd e f'),(7, 8, 9, 'g h i')] ).toDF(['col1', 'col2', 'col3','col4']) df.show() +----+----+----+-----+ |col1|col2|col3| col4| +----+----+----+-----+ | 1| 2| 3|a b c| | 4| 5| 6|d e f| | 7| 8| 9|g h i| +----+----+----+-----+","title":"Notebook\uff08\u63a8\u8350\uff09"},{"location":"dsc/pyspark/#_2","text":"pyspark\u5df2\u7ecf\u6dfb\u52a0\u5230\u7cfb\u7edf\u8def\u5f84\uff0c\u542f\u52a8\u4e00\u4e2a\u7ec8\u7aef\u5373\u53ef\u8f93\u5165\uff0c\u7531\u4e8e\u670d\u52a1\u5668\u5df2\u6709spark standalone\u5728\u8fd0\u884c\uff0c\u56e0\u6b64\u542f\u52a8\u65f6\u8bf7\u76f4\u63a5\u8fde\u63a5\u5230\u672c\u5730\u7684master\u8282\u70b9\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8f93\u5165 pyspark \u4f1a\u81ea\u52a8\u8fde\u63a5\uff0c\u4e5f\u901a\u8fc7master\u9009\u9879\u76f4\u63a5\u6307\u5b9a pyspark --master spark://10.40.13.202:7077 \u6ce8\u610f1 \uff1a \u4e25\u7981\u6307\u5b9a master \u4e3a local[*] \u6ce8\u610f2 \uff1apyspark\u4e2d\u81ea\u5e26\u4e86 \u540d\u4e3aspark\u7684SparkSession\u548csc\u7684SparkContext \uff0c\u65e0\u9700\u4e5f\u4e0d\u5e94\u8be5\u989d\u5916\u521b\u5efa \u4f7f\u7528Ctrl+D\u6216\u8f93\u5165 exit() \u9000\u51fa","title":"\u547d\u4ee4\u884c\u7ec8\u7aef"},{"location":"dsc/pyspark/#spark-submit","text":"\u7528spark-submit\u63d0\u4ea4\u4e00\u4e2apython\u6587\u4ef6\u5f62\u6210\u72ec\u7acb\u7684\u4f5c\u4e1a\uff0c\u8bf7\u53c2\u8003 \u5b98\u65b9\u6587\u6863","title":"spark-submit"},{"location":"dsc/pyspark/#pyspark","text":"\u6700\u597d\u7684\u65b9\u6cd5\u662f\u4e0a\u8bfe\u542c\u8bb2\u3001\u591a\u52a8\u624b\u5199\u4ee3\u7801\u3001\u51fa\u4e86\u95ee\u9898\u67e5\u5b98\u65b9\u6587\u6863\u3001\u641c\u7d22\u5f15\u64ce\u53caStackOverflow\u7b49\u3002 \u4ee5\u540e\u6709\u5fc5\u8981\u518d\u8865\u5145\u3002","title":"PySpark\u5165\u95e8"},{"location":"dsc/scala/","text":"Scala\u4f7f\u7528\u8bf4\u660e \u4f7f\u7528\u666e\u901ascala \u547d\u4ee4\u884c\u4e2d\u8f93\u5165 scala \u5373\u53ef \u4f7f\u7528spark-shell spark-shell\u662fspark\u542f\u52a8\u7684\u4ea4\u4e92\u6a21\u5f0f\u7684Scala\u8bed\u8a00\u547d\u4ee4\u884c\uff0c\u5728\u8f93\u5165\u547d\u4ee4\u540e\u53ef\u4ee5\u7acb\u523b\u67e5\u770b\u7ed3\u679c \u7531\u4e8e\u670d\u52a1\u5668\u5df2\u6709spark standalone\u5728\u8fd0\u884c\uff0c\u56e0\u6b64\u542f\u52a8spark-shell\u65f6\u8bf7\u76f4\u63a5\u8fde\u63a5\u5230\u672c\u5730\u7684master\u8282\u70b9\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8f93\u5165 spark-shell \u4f1a\u81ea\u52a8\u8fde\u63a5\uff0c\u4e5f\u901a\u8fc7master\u9009\u9879\u76f4\u63a5\u6307\u5b9a spark-shell --master spark://10.40.13.202:7077 \u6ce8\u610f1 \uff1a \u4e25\u7981\u6307\u5b9a master \u4e3a local[*] \u6ce8\u610f2 \uff1aspark-shell\u542f\u52a8\u65f6\u81ea\u5e26\u4e86 \u540d\u4e3aspark\u7684SparkSession\u548csc\u7684SparkContext \uff0c \u65e0\u9700\u4e5f\u4e0d\u5e94\u8be5\u989d\u5916\u521b\u5efaSparkContext \u4f7f\u7528Ctrl+D\u9000\u51faSpark Shell","title":"Scala"},{"location":"dsc/scala/#scala","text":"","title":"Scala\u4f7f\u7528\u8bf4\u660e"},{"location":"dsc/scala/#scala_1","text":"\u547d\u4ee4\u884c\u4e2d\u8f93\u5165 scala \u5373\u53ef","title":"\u4f7f\u7528\u666e\u901ascala"},{"location":"dsc/scala/#spark-shell","text":"spark-shell\u662fspark\u542f\u52a8\u7684\u4ea4\u4e92\u6a21\u5f0f\u7684Scala\u8bed\u8a00\u547d\u4ee4\u884c\uff0c\u5728\u8f93\u5165\u547d\u4ee4\u540e\u53ef\u4ee5\u7acb\u523b\u67e5\u770b\u7ed3\u679c \u7531\u4e8e\u670d\u52a1\u5668\u5df2\u6709spark standalone\u5728\u8fd0\u884c\uff0c\u56e0\u6b64\u542f\u52a8spark-shell\u65f6\u8bf7\u76f4\u63a5\u8fde\u63a5\u5230\u672c\u5730\u7684master\u8282\u70b9\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u8f93\u5165 spark-shell \u4f1a\u81ea\u52a8\u8fde\u63a5\uff0c\u4e5f\u901a\u8fc7master\u9009\u9879\u76f4\u63a5\u6307\u5b9a spark-shell --master spark://10.40.13.202:7077 \u6ce8\u610f1 \uff1a \u4e25\u7981\u6307\u5b9a master \u4e3a local[*] \u6ce8\u610f2 \uff1aspark-shell\u542f\u52a8\u65f6\u81ea\u5e26\u4e86 \u540d\u4e3aspark\u7684SparkSession\u548csc\u7684SparkContext \uff0c \u65e0\u9700\u4e5f\u4e0d\u5e94\u8be5\u989d\u5916\u521b\u5efaSparkContext \u4f7f\u7528Ctrl+D\u9000\u51faSpark Shell","title":"\u4f7f\u7528spark-shell"}]}